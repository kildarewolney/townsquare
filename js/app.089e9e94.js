(function(e){function o(o){for(var s,r,n=o[0],d=o[1],l=o[2],c=0,g=[];c<n.length;c++)r=n[c],Object.prototype.hasOwnProperty.call(i,r)&&i[r]&&g.push(i[r][0]),i[r]=0;for(s in d)Object.prototype.hasOwnProperty.call(d,s)&&(e[s]=d[s]);m&&m(o);while(g.length)g.shift()();return a.push.apply(a,l||[]),t()}function t(){for(var e,o=0;o<a.length;o++){for(var t=a[o],s=!0,n=1;n<t.length;n++){var d=t[n];0!==i[d]&&(s=!1)}s&&(a.splice(o--,1),e=r(r.s=t[0]))}return e}var s={},i={app:0},a=[];function r(o){if(s[o])return s[o].exports;var t=s[o]={i:o,l:!1,exports:{}};return e[o].call(t.exports,t,t.exports,r),t.l=!0,t.exports}r.m=e,r.c=s,r.d=function(e,o,t){r.o(e,o)||Object.defineProperty(e,o,{enumerable:!0,get:t})},r.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,o){if(1&o&&(e=r(e)),8&o)return e;if(4&o&&"object"===typeof e&&e&&e.__esModule)return e;var t=Object.create(null);if(r.r(t),Object.defineProperty(t,"default",{enumerable:!0,value:e}),2&o&&"string"!=typeof e)for(var s in e)r.d(t,s,function(o){return e[o]}.bind(null,s));return t},r.n=function(e){var o=e&&e.__esModule?function(){return e["default"]}:function(){return e};return r.d(o,"a",o),o},r.o=function(e,o){return Object.prototype.hasOwnProperty.call(e,o)},r.p="/townsquare/";var n=window["webpackJsonp"]=window["webpackJsonp"]||[],d=n.push.bind(n);n.push=o,n=n.slice();for(var l=0;l<n.length;l++)o(n[l]);var m=d;a.push(["56d7","chunk-vendors"]),t()})({"00c0":function(e){e.exports=JSON.parse('[{"id":"tb","name":"Trouble Brewing","author":"The Pandemonium Institute","description":"Clouds roll in over Ravenswood Bluff, engulfing this sleepy town and its superstitious inhabitants in foreboding shadow. Freshly-washed clothes dance eerily on lines strung between cottages. Chimneys cough plumes of smoke into the air. Exotic scents waft through cracks in windows and under doors, as hidden cauldrons lay bubbling. An unusually warm Autumn breeze wraps around vine-covered walls and whispers ominously to those brave enough to walk the cobbled streets.\\n\\nAnxious mothers call their children home from play, as thunder begins to clap on the horizon. If you listen more closely, however, noises stranger still can be heard echoing from the neighbouring forest. Under the watchful eye of a looming monastery, silhouetted figures skip from doorway to doorway. Those who can read the signs know there is... Trouble Brewing.","level":"Beginner","roles":[],"isOfficial":true},{"id":"bmr","name":"Bad Moon Rising","author":"The Pandemonium Institute","description":"The sun is swallowed by a jagged horizon as another winter\'s day surrenders to the night. Flecks of orange and red decay into deeper browns, the forest transforming in silent anticipation of the coming snow.\\n\\nRavenous wolves howl from the bowels of a rocky crevasse beyond the town borders, sending birds scattering from their cozy rooks. Travelers hurry into the inn, seeking shelter from the gathering chill. They warm themselves with hot tea, sweet strains of music and hearty ale, unaware that strange and nefarious eyes stalk them from the ruins of this once great city.\\n\\nTonight, even the livestock know there is a... Bad Moon Rising.","level":"Intermediate","roles":[],"isOfficial":true},{"id":"snv","name":"Sects & Violets","author":"The Pandemonium Institute","description":"Vibrant spring gives way to a warm and inviting summer. Flowers of every description blossom as far as the eye can see, tenderly nurtured in public gardens and window boxes overlooking the lavish promenade. Birds sing, artists paint and philosophers ponder life\'s greatest mysteries inside a bustling tavern as a circus pitches its endearingly ragged tent on the edge of town.\\n\\nAs the townsfolk bask in frivolity and mischief, indulging themselves in fine entertainment and even finer wine, dark and clandestine forces are assembling. Witches and cults lurk in majestic ruins on the fringes of the community, hosting secret meetings in underground caves and malevolently plotting the downfall of Ravenswood Bluff and its revelers.\\n\\nThe time is ripe for... Sects & Violets.","level":"Intermediate","roles":[],"isOfficial":true},{"id":"luf","name":"Laissez un Faire","author":"The Pandemonium Institute","description":"","level":"Veteran","roles":["balloonist","savant","amnesiac","fisherman","artist","cannibal","mutant","lunatic","widow","goblin","leviathan"],"isOfficial":true}]')},"013f":function(e,o,t){e.exports=t.p+"img/washerwoman.a0c66e53.png"},"027a":function(e,o,t){e.exports=t.p+"img/barista.fd2bba67.png"},"0436":function(e,o,t){e.exports=t.p+"img/cerenovus.736554ca.png"},"043b":function(e,o,t){e.exports=t.p+"img/amnesiac.03ce8f67.png"},"07ab":function(e,o,t){e.exports=t.p+"img/politician.32246fcf.png"},"0aaa":function(e,o,t){e.exports=t.p+"img/tb.438499cd.png"},"0b29":function(e,o,t){e.exports=t.p+"img/shabaloth.f461dd08.png"},"0b61":function(e,o,t){e.exports=t.p+"img/lunatic.f2982146.png"},"0c12":function(e,o,t){e.exports=t.p+"img/oracle.63459162.png"},"0c1d":function(e,o,t){},"0c59":function(e,o,t){e.exports=t.p+"img/ravenkeeper.552f1f2f.png"},"0c6c":function(e,o,t){"use strict";t("0c1d")},"0d06":function(e,o,t){e.exports=t.p+"img/spiritofivory.1ec5112e.png"},"0e20":function(e,o,t){e.exports=t.p+"img/undertaker.1df72155.png"},"0fac":function(e,o,t){"use strict";t("6b5a")},"125e":function(e,o,t){e.exports=t.p+"img/chambermaid.b6f002ce.png"},"12fe":function(e,o,t){},"150c":function(e,o,t){},"160b":function(e,o,t){e.exports=t.p+"img/plus.c11bf1ed.png"},"177d":function(e,o,t){e.exports=t.p+"img/recluse.a6519a1d.png"},"17ad":function(e,o,t){e.exports=t.p+"img/mutant.b28a535c.png"},"1d01":function(e,o,t){e.exports=t.p+"img/buddhist.72caa1e8.png"},"1e83":function(e,o,t){e.exports=t.p+"img/chef.d4e7f9a6.png"},"1f6d":function(e,o,t){"use strict";t("5325")},2094:function(e,o,t){e.exports=t.p+"img/preacher.f3f608a6.png"},"20ca":function(e,o,t){e.exports=t.p+"img/zombuul.ec71a259.png"},"223c":function(e,o,t){e.exports=t.p+"img/sailor.631521c2.png"},"22c9":function(e,o,t){e.exports=t.p+"img/widow.ec8d8cb0.png"},"23b1":function(e,o,t){e.exports=t.p+"img/bonecollector.846af8c8.png"},"24d3":function(e,o,t){e.exports=t.p+"img/baron.9ce9bd3b.png"},"25f6":function(e,o,t){e.exports=t.p+"img/bureaucrat.88ec372a.png"},"28bf":function(e,o,t){e.exports=t.p+"img/bmr-minion.6559191b.png"},"2b04":function(e,o,t){e.exports=t.p+"img/leviathan.dfbff6e8.png"},"2cd0":function(e,o,t){e.exports=t.p+"img/artist.f89690cd.png"},"2fd0":function(e,o,t){e.exports=t.p+"img/snv.288a42ad.png"},"30b6":function(e,o,t){e.exports=t.p+"img/sage.5afc100d.png"},"327a":function(e,o,t){e.exports=t.p+"img/scapegoat.8bd95c23.png"},3603:function(e,o,t){e.exports=t.p+"img/philosopher.92032c70.png"},3636:function(e,o,t){"use strict";t("d4b2")},"37dd":function(e,o,t){e.exports=t.p+"img/butcher.e0b672b7.png"},"38a5":function(e,o,t){e.exports=t.p+"img/towncrier.18a4377b.png"},"398f":function(e,o,t){e.exports=t.p+"img/cultleader.de1fca53.png"},"39eb":function(e,o,t){e.exports=t.p+"img/toymaker.07b2e8fa.png"},"3a43":function(e,o,t){e.exports=t.p+"img/vortox.6add3a3a.png"},"3b65":function(e,o,t){e.exports=t.p+"img/deviant.e8a761ae.png"},"3e70":function(e,o,t){e.exports=t.p+"img/imp.cd0fa5b8.png"},"3f65":function(e,o,t){e.exports=t.p+"img/moonchild.6c84161e.png"},"3f8f":function(e,o,t){"use strict";t("557b")},4021:function(e,o,t){e.exports=t.p+"img/snakecharmer.e512cc1e.png"},"43e8":function(e,o,t){e.exports=t.p+"img/fortuneteller.4396927c.png"},"441d":function(e,o,t){e.exports=t.p+"img/custom.5334aaeb.png"},"451a":function(e,o,t){e.exports=t.p+"img/snv-minion.60768802.png"},4720:function(e,o,t){e.exports=t.p+"img/fool.a730aab3.png"},"4a98":function(e,o,t){"use strict";t("fa85")},"4bea":function(e,o,t){e.exports=t.p+"img/apprentice.b7055345.png"},"4d73":function(e,o,t){e.exports=t.p+"img/librarian.6fd7f267.png"},"4dc0":function(e,o,t){},"4dd9":function(e,o,t){e.exports=t.p+"img/snv-outsider.5b5cae7f.png"},"4e76":function(e,o,t){e.exports=t.p+"img/soldier.451de0df.png"},"4efd":function(e,o,t){e.exports=t.p+"img/minstrel.1647382d.png"},5072:function(e,o,t){e.exports=t.p+"img/exorcist.8c0f5cac.png"},5296:function(e,o,t){},5325:function(e,o,t){},5468:function(e,o,t){"use strict";t("5296")},"557b":function(e,o,t){},"559e":function(e,o,t){e.exports=t.p+"img/harlot.1a418200.png"},"55aa":function(e,o,t){e.exports=t.p+"img/goon.719106f2.png"},5654:function(e,o,t){},"56d7":function(e,o,t){"use strict";t.r(o);var s=t("2b0e"),i=function(){var e=this,o=e.$createElement,t=e._self._c||o;return t("div",{class:{night:e.grimoire.isNight},style:{backgroundImage:e.grimoire.background?"url('"+e.grimoire.background+"')":""},attrs:{id:"app",tabindex:"-1"},on:{keyup:e.keyup}},[t("div",{staticClass:"backdrop"}),t("transition",{attrs:{name:"blur"}},[e.players.length?e._e():t("Intro"),e.players.length&&!e.session.nomination?t("TownInfo"):e._e(),e.session.nomination?t("Vote"):e._e()],1),t("TownSquare"),t("Menu",{ref:"menu"}),t("EditionModal"),t("FabledModal"),t("RolesModal"),t("ReferenceModal"),t("NightOrderModal"),t("VoteHistoryModal"),t("GameStateModal"),t("Gradients"),t("span",{attrs:{id:"version"}},[e._v("v"+e._s(e.version))])],1)},a=[],r=t("2f62"),n=t("9224"),d=function(){var e=this,o=e.$createElement,t=e._self._c||o;return t("div",{staticClass:"square",class:{public:e.grimoire.isPublic,spectator:e.session.isSpectator,vote:e.session.nomination},attrs:{id:"townsquare"}},[t("ul",{staticClass:"circle",class:["size-"+e.players.length]},e._l(e.players,(function(o,s){return t("Player",{key:s,class:{from:Math.max(e.swap,e.move,e.nominate)===s,swap:e.swap>-1,move:e.move>-1,nominate:e.nominate>-1},attrs:{player:o},on:{trigger:function(o){return e.handleTrigger(s,o)}}})})),1),e.players.length?t("div",{ref:"bluffs",staticClass:"bluffs",class:{closed:!e.isBluffsOpen}},[t("h3",[e.session.isSpectator?t("span",[e._v("Other characters")]):t("span",[e._v("Blefes do Demônio")]),t("font-awesome-icon",{attrs:{icon:"times-circle"},on:{click:function(o){return o.stopPropagation(),e.toggleBluffs(o)}}}),t("font-awesome-icon",{attrs:{icon:"plus-circle"},on:{click:function(o){return o.stopPropagation(),e.toggleBluffs(o)}}})],1),t("ul",e._l(e.bluffSize,(function(o){return t("li",{key:o,on:{click:function(t){return e.openRoleModal(-1*o)}}},[t("Token",{attrs:{role:e.bluffs[o-1]}})],1)})),0)]):e._e(),e.fabled.length?t("div",{staticClass:"fabled",class:{closed:!e.isFabledOpen}},[t("h3",[t("span",[e._v("Lendários")]),t("font-awesome-icon",{attrs:{icon:"times-circle"},on:{click:function(o){return o.stopPropagation(),e.toggleFabled(o)}}}),t("font-awesome-icon",{attrs:{icon:"plus-circle"},on:{click:function(o){return o.stopPropagation(),e.toggleFabled(o)}}})],1),t("ul",e._l(e.fabled,(function(o,s){return t("li",{key:s,on:{click:function(o){return e.removeFabled(s)}}},[e.nightOrder.get(o).first&&e.grimoire.isNightOrder?t("div",{staticClass:"night-order first"},[t("em",[e._v(e._s(e.nightOrder.get(o).first)+".")]),o.firstNightReminder?t("span",[e._v(e._s(o.firstNightReminder))]):e._e()]):e._e(),e.nightOrder.get(o).other&&e.grimoire.isNightOrder?t("div",{staticClass:"night-order other"},[t("em",[e._v(e._s(e.nightOrder.get(o).other)+".")]),o.otherNightReminder?t("span",[e._v(e._s(o.otherNightReminder))]):e._e()]):e._e(),t("Token",{attrs:{role:o}})],1)})),0)]):e._e(),t("ReminderModal",{attrs:{"player-index":e.selectedPlayer}}),t("RoleModal",{attrs:{"player-index":e.selectedPlayer}})],1)},l=[],m=function(){var e=this,o=e.$createElement,s=e._self._c||o;return s("li",{style:e.zoom},[s("div",{ref:"player",staticClass:"player",class:[{dead:e.player.isDead,"no-vote":e.player.isVoteless,you:e.session.sessionId&&e.player.id&&e.player.id===e.session.playerId,"vote-yes":e.session.votes[e.index],"vote-lock":e.voteLocked},e.player.role.team]},[s("div",{staticClass:"shroud",on:{click:function(o){return e.toggleStatus()}}}),s("div",{staticClass:"life",on:{click:function(o){return e.toggleStatus()}}}),e.nightOrder.get(e.player).first&&e.grimoire.isNightOrder?s("div",{staticClass:"night-order first"},[s("em",[e._v(e._s(e.nightOrder.get(e.player).first)+".")]),e.player.role.firstNightReminder?s("span",[e._v(e._s(e._f("handleEmojis")(e.player.role.firstNightReminder)))]):e._e()]):e._e(),e.nightOrder.get(e.player).other&&e.grimoire.isNightOrder?s("div",{staticClass:"night-order other"},[s("em",[e._v(e._s(e.nightOrder.get(e.player).other)+".")]),e.player.role.otherNightReminder?s("span",[e._v(e._s(e._f("handleEmojis")(e.player.role.otherNightReminder)))]):e._e()]):e._e(),s("Token",{attrs:{role:e.player.role},on:{"set-role":function(o){return e.$emit("trigger",["openRoleModal"])}}}),s("div",{staticClass:"overlay"},[s("font-awesome-icon",{staticClass:"vote",attrs:{icon:"hand-paper",title:"Hand UP"},on:{click:function(o){return e.vote()}}}),s("font-awesome-icon",{staticClass:"vote",attrs:{icon:"times",title:"Hand DOWN"},on:{click:function(o){return e.vote()}}}),s("font-awesome-icon",{staticClass:"cancel",attrs:{icon:"times-circle",title:"Cancel"},on:{click:function(o){return e.cancel()}}}),s("font-awesome-icon",{staticClass:"swap",attrs:{icon:"exchange-alt",title:"Swap seats with this player"},on:{click:function(o){return e.swapPlayer(e.player)}}}),s("font-awesome-icon",{staticClass:"move",attrs:{icon:"redo-alt",title:"Move player to this seat"},on:{click:function(o){return e.movePlayer(e.player)}}}),s("font-awesome-icon",{staticClass:"nominate",attrs:{icon:"hand-point-right",title:"Nominate this player"},on:{click:function(o){return e.nominatePlayer(e.player)}}})],1),e.player.id&&e.session.sessionId?s("font-awesome-icon",{staticClass:"seat",class:{highlight:e.session.isRolesDistributed},attrs:{icon:"chair"}}):e._e(),e.player.isDead&&!e.player.isVoteless?s("font-awesome-icon",{staticClass:"has-vote",attrs:{icon:"vote-yea",title:"Ghost vote"},on:{click:function(o){return e.updatePlayer("isVoteless",!0)}}}):e._e(),s("div",{staticClass:"name",class:{active:e.isMenuOpen},on:{click:function(o){e.isMenuOpen=!e.isMenuOpen}}},[e._v(" "+e._s(e.player.name)+" ")]),s("transition",{attrs:{name:"fold"}},[e.isMenuOpen?s("ul",{staticClass:"menu"},[e.session.isSpectator?e._e():[s("li",{on:{click:e.changeName}},[s("font-awesome-icon",{attrs:{icon:"user-edit"}}),e._v("Rename ")],1),e.session.nomination?e._e():s("li",{on:{click:function(o){return e.nominatePlayer()}}},[s("font-awesome-icon",{attrs:{icon:"hand-point-right"}}),e._v(" Nomeador ")],1),s("li",{on:{click:function(o){return e.movePlayer()}}},[s("font-awesome-icon",{attrs:{icon:"redo-alt"}}),e._v(" Mover Jogador ")],1),s("li",{on:{click:function(o){return e.swapPlayer()}}},[s("font-awesome-icon",{attrs:{icon:"exchange-alt"}}),e._v(" Trocar Lugares ")],1),s("li",{on:{click:e.removePlayer}},[s("font-awesome-icon",{attrs:{icon:"times-circle"}}),e._v(" Remover ")],1),e.player.id&&e.session.sessionId?s("li",{on:{click:function(o){return e.updatePlayer("id","",!0)}}},[s("font-awesome-icon",{attrs:{icon:"chair"}}),e._v(" Assento vazio ")],1):e._e()],e.session.isSpectator?s("li",{class:{disabled:e.player.id&&e.player.id!==e.session.playerId},on:{click:e.claimSeat}},[s("font-awesome-icon",{attrs:{icon:"chair"}}),e.player.id?e.player.id===e.session.playerId?[e._v(" Liberar Assento ")]:[e._v(" Assento em Uso")]:[e._v(" Clamar Assento ")]],2):e._e()],2):e._e()])],1),e.player.reminders?e._l(e.player.reminders,(function(o){return s("div",{key:o.role+" "+o.name,staticClass:"reminder",class:[o.role],on:{click:function(t){return e.removeReminder(o)}}},[s("span",{staticClass:"icon",style:{backgroundImage:"url("+(o.image||t("61b0")("./"+o.role+".png"))+")"}}),s("span",{staticClass:"text"},[e._v(e._s(o.name))])])})):e._e(),s("div",{staticClass:"reminder add",on:{click:function(o){return e.$emit("trigger",["openReminderModal"])}}},[s("span",{staticClass:"icon"})])],2)},c=[],g=function(){var e=this,o=e.$createElement,s=e._self._c||o;return s("div",{staticClass:"token",class:[e.role.id],on:{click:e.setRole}},[e.role.id?s("span",{staticClass:"icon",style:{backgroundImage:"url("+(e.role.image||t("61b0")("./"+e.role.id+".png"))+")"}}):e._e(),e.role.firstNight||e.role.firstNightReminder?s("span",{staticClass:"leaf-left"}):e._e(),e.role.otherNight||e.role.otherNightReminder?s("span",{staticClass:"leaf-right"}):e._e(),e.role.reminders&&e.role.reminders.length?s("span",{class:["leaf-top"+e.role.reminders.length]}):e._e(),e.role.setup?s("span",{staticClass:"leaf-orange"}):e._e(),s("svg",{staticClass:"name",attrs:{viewBox:"0 0 150 150"}},[s("path",{attrs:{d:"M 13 75 C 13 160, 138 160, 138 75",id:"curve",fill:"transparent"}}),s("text",{staticClass:"label mozilla",attrs:{width:"150",x:"66.6%","text-anchor":"middle","font-size":e._f("nameToFontSize")(e.role.name)}},[s("textPath",{attrs:{"xlink:href":"#curve"}},[e._v(" "+e._s(e.role.name)+" ")])])]),s("div",{staticClass:"edition",class:["edition-"+e.role.edition,e.role.team]}),e.role.ability?s("div",{staticClass:"ability"},[e._v(" "+e._s(e.role.ability)+" ")]):e._e()])},u=[],h={name:"Token",props:{role:{type:Object,default:()=>({})}},data(){return{}},filters:{nameToFontSize:e=>e&&e.length>10?"90%":"110%"},methods:{setRole(){this.$emit("set-role")}}},p=h,f=(t("590d"),t("2877")),b=Object(f["a"])(p,g,u,!1,null,"60ef4ac1",null),v=b.exports,y={components:{Token:v},props:{player:{type:Object,required:!0}},computed:{...Object(r["d"])("players",["players"]),...Object(r["d"])(["grimoire","session"]),...Object(r["b"])({nightOrder:"players/nightOrder"}),index:function(){return this.players.indexOf(this.player)},voteLocked:function(){const e=this.session,o=this.players.length;if(!e.nomination)return!1;const t=(this.index-1+o-e.nomination[1])%o;return t<e.lockedVote-1},zoom:function(){const e=window.innerWidth>window.innerHeight?"vh":"vw";return this.players.length<7?{width:18+this.grimoire.zoom+e}:this.players.length<=10?{width:16+this.grimoire.zoom+e}:this.players.length<=15?{width:14+this.grimoire.zoom+e}:{width:12+this.grimoire.zoom+e}}},data(){return{isMenuOpen:!1,isSwap:!1}},filters:{handleEmojis:e=>e.replace(/:([^: ]+?):/g,"").replace(/ •/g,"\n•")},methods:{toggleStatus(){this.grimoire.isPublic?this.player.isDead?this.player.isVoteless?(this.updatePlayer("isVoteless",!1),this.updatePlayer("isDead",!1)):this.updatePlayer("isVoteless",!0):this.updatePlayer("isDead",!0):(this.updatePlayer("isDead",!this.player.isDead),this.player.isVoteless&&this.updatePlayer("isVoteless",!1))},changeName(){if(this.session.isSpectator)return;const e=prompt("Player name",this.player.name)||this.player.name;this.updatePlayer("name",e,!0)},removeReminder(e){const o=[...this.player.reminders];o.splice(this.player.reminders.indexOf(e),1),this.updatePlayer("reminders",o,!0)},updatePlayer(e,o,t=!1){this.session.isSpectator&&"reminders"!==e||(this.$store.commit("players/update",{player:this.player,property:e,value:o}),t&&(this.isMenuOpen=!1))},removePlayer(){this.isMenuOpen=!1,this.$emit("trigger",["removePlayer"])},swapPlayer(e){this.isMenuOpen=!1,this.$emit("trigger",["swapPlayer",e])},movePlayer(e){this.isMenuOpen=!1,this.$emit("trigger",["movePlayer",e])},nominatePlayer(e){this.isMenuOpen=!1,this.$emit("trigger",["nominatePlayer",e])},cancel(){this.$emit("trigger",["cancel"])},claimSeat(){this.isMenuOpen=!1,this.$emit("trigger",["claimSeat"])},vote(){this.session.isSpectator||this.voteLocked&&this.$store.commit("session/voteSync",[this.index,!this.session.votes[this.index]])}}},N=y,_=(t("74c9"),Object(f["a"])(N,m,c,!1,null,null,null)),k=_.exports,j=function(){var e=this,o=e.$createElement,s=e._self._c||o;return e.modals.reminder&&e.availableReminders.length&&e.players[e.playerIndex]?s("Modal",{on:{close:function(o){return e.toggleModal("reminder")}}},[s("h3",[e._v("Choose a reminder token:")]),s("ul",{staticClass:"reminders"},e._l(e.availableReminders,(function(o){return s("li",{key:o.role+" "+o.name,staticClass:"reminder",class:[o.role],on:{click:function(t){return e.addReminder(o)}}},[s("span",{staticClass:"icon",style:{backgroundImage:"url("+(o.image||t("61b0")("./"+o.role+".png"))+")"}}),s("span",{staticClass:"text"},[e._v(e._s(o.name))])])})),0)]):e._e()},S=[],R=function(){var e=this,o=e.$createElement,t=e._self._c||o;return t("transition",{attrs:{name:"modal-fade"}},[t("div",{staticClass:"modal-backdrop",on:{click:e.close}},[t("div",{staticClass:"modal",attrs:{role:"dialog","aria-labelledby":"modalTitle","aria-describedby":"modalDescription"},on:{click:function(e){e.stopPropagation()}}},[t("font-awesome-icon",{staticClass:"close",attrs:{icon:"times-circle"},on:{click:e.close}}),e._t("default")],2)])])},w=[],x={methods:{close(){this.$emit("close")}}},O=x,M=(t("8781"),Object(f["a"])(O,R,w,!1,null,null,null)),C=M.exports,I={components:{Modal:C},props:["playerIndex"],computed:{availableReminders(){let e=[];const{players:o,bluffs:t}=this.$store.state.players;return this.$store.state.roles.forEach(s=>{(o.some(e=>e.role.id===s.id)||t.some(e=>e.id===s.id))&&(e=[...e,...s.reminders.map(e=>({role:s.id,image:s.image,name:e}))]),s.remindersGlobal&&s.remindersGlobal.length&&(e=[...e,...s.remindersGlobal.map(e=>({role:s.id,image:s.image,name:e}))])}),this.$store.state.players.fabled.forEach(o=>{e=[...e,...o.reminders.map(e=>({role:o.id,image:o.image,name:e}))]}),e.push({role:"good",name:"Bom"}),e.push({role:"evil",name:"Mau"}),e.push({role:"custom",name:"Anotação"}),e},...Object(r["d"])(["modals"]),...Object(r["d"])("players",["players"])},methods:{addReminder(e){const o=this.$store.state.players.players[this.playerIndex];let t;if("custom"===e.role){const e=prompt("Add a custom reminder note");if(!e)return;t=[...o.reminders,{role:"custom",name:e}]}else t=[...o.reminders,e];this.$store.commit("players/update",{player:o,property:"reminders",value:t}),this.$store.commit("toggleModal","reminder")},...Object(r["c"])(["toggleModal"])}},q=I,P=(t("5df1"),Object(f["a"])(q,j,S,!1,null,"600585f9",null)),V=P.exports,E=function(){var e=this,o=e.$createElement,t=e._self._c||o;return e.modals.role&&e.availableRoles.length?t("Modal",{on:{close:function(o){return e.toggleModal("role")}}},[t("h3",[e._v(" Escolha um personagem para "+e._s(e.playerIndex>=0&&e.players.length?e.players[e.playerIndex].name:"blefe")+" ")]),t("ul",{staticClass:"tokens"},e._l(e.availableRoles,(function(o){return t("li",{key:o.id,class:[o.team],on:{click:function(t){return e.setRole(o)}}},[t("Token",{attrs:{role:o}})],1)})),0)]):e._e()},T=[],D={components:{Token:v,Modal:C},props:["playerIndex"],computed:{availableRoles(){const e=[],o=this.$store.state.players.players;return this.$store.state.roles.forEach(t=>{(this.playerIndex>=0||this.playerIndex<0&&!o.some(e=>e.role.id===t.id))&&e.push(t)}),e.push({}),e},...Object(r["d"])(["modals","roles","session"]),...Object(r["d"])("players",["players"])},methods:{setRole(e){if(this.playerIndex<0)this.$store.commit("players/setBluff",{index:-1*this.playerIndex-1,role:e});else{if(this.session.isSpectator&&"traveler"===e.team)return;const o=this.$store.state.players.players[this.playerIndex];this.$store.commit("players/update",{player:o,property:"role",value:e})}this.$store.commit("toggleModal","role")},...Object(r["c"])(["toggleModal"])}},$=D,A=(t("0c6c"),Object(f["a"])($,E,T,!1,null,"2ff8ee55",null)),B=A.exports,z={components:{Player:k,Token:v,RoleModal:B,ReminderModal:V},computed:{...Object(r["b"])({nightOrder:"players/nightOrder"}),...Object(r["d"])(["grimoire","roles","session"]),...Object(r["d"])("players",["players","bluffs","fabled"])},data(){return{selectedPlayer:0,bluffSize:3,swap:-1,move:-1,nominate:-1,isBluffsOpen:!0,isFabledOpen:!0}},methods:{toggleBluffs(){this.isBluffsOpen=!this.isBluffsOpen},toggleFabled(){this.isFabledOpen=!this.isFabledOpen},removeFabled(e){this.session.isSpectator||this.$store.commit("players/setFabled",{index:e})},handleTrigger(e,[o,t]){"function"===typeof this[o]&&this[o](e,t)},claimSeat(e){this.session.isSpectator&&(this.session.playerId===this.players[e].id?this.$store.commit("session/claimSeat",-1):this.$store.commit("session/claimSeat",e))},openReminderModal(e){this.selectedPlayer=e,this.$store.commit("toggleModal","reminder")},openRoleModal(e){const o=this.players[e];this.session.isSpectator&&o&&"traveler"===o.role.team||(this.selectedPlayer=e,this.$store.commit("toggleModal","role"))},removePlayer(e){this.session.isSpectator||confirm(`Do you really want to remove ${this.players[e].name}?`)&&this.$store.commit("players/remove",e)},swapPlayer(e,o){void 0===o?(this.cancel(),this.swap=e):(this.$store.commit("players/swap",[this.swap,this.players.indexOf(o)]),this.cancel())},movePlayer(e,o){void 0===o?(this.cancel(),this.move=e):(this.$store.commit("players/move",[this.move,this.players.indexOf(o)]),this.cancel())},nominatePlayer(e,o){if(void 0===o)this.cancel(),e!==this.nominate&&(this.nominate=e);else{const e=[this.nominate,this.players.indexOf(o)];this.$store.commit("session/nomination",{nomination:e}),this.cancel()}},cancel(){this.move=-1,this.swap=-1,this.nominate=-1}}},F=z,L=(t("3636"),Object(f["a"])(F,d,l,!1,null,null,null)),U=L.exports,G=function(){var e=this,o=e.$createElement,s=e._self._c||o;return s("ul",{staticClass:"info"},[s("li",{staticClass:"edition",class:["edition-"+e.edition.id],style:{backgroundImage:"url("+(e.edition.logo||t("ce23")("./"+e.edition.id+".png"))+")"}}),e.players.length-e.teams.traveler<5?s("li",[e._v(" Minímo de jogadores para iniciar uma partida é 5. Por favor adicione mais jogodares. ")]):e._e(),s("li",[e.edition.isOfficial?e._e():s("span",{staticClass:"meta"},[e._v(" "+e._s(e.edition.name)+" "+e._s(e.edition.author?"Por: "+e.edition.author:"")+" ")]),s("span",[e._v(" "+e._s(e.players.length)+" "),s("font-awesome-icon",{staticClass:"players",attrs:{icon:"users"}})],1),s("span",[e._v(" "+e._s(e.teams.alive)+" "),s("font-awesome-icon",{staticClass:"alive",attrs:{icon:"heartbeat"}})],1),s("span",[e._v(" "+e._s(e.teams.votes)+" "),s("font-awesome-icon",{staticClass:"votes",attrs:{icon:"vote-yea"}})],1)]),e.players.length-e.teams.traveler>=5?s("li",[s("span",[e._v(" "+e._s(e.teams.townsfolk)+" "),s("font-awesome-icon",{staticClass:"townsfolk",attrs:{icon:"user-friends"}})],1),s("span",[e._v(" "+e._s(e.teams.outsider)+" "),s("font-awesome-icon",{staticClass:"outsider",attrs:{icon:e.teams.outsider>1?"user-friends":"user"}})],1),s("span",[e._v(" "+e._s(e.teams.minion)+" "),s("font-awesome-icon",{staticClass:"minion",attrs:{icon:e.teams.minion>1?"user-friends":"user"}})],1),s("span",[e._v(" "+e._s(e.teams.demon)+" "),s("font-awesome-icon",{staticClass:"demon",attrs:{icon:e.teams.demon>1?"user-friends":"user"}})],1),e.teams.traveler?s("span",[e._v(" "+e._s(e.teams.traveler)+" "),s("font-awesome-icon",{staticClass:"traveler",attrs:{icon:e.teams.traveler>1?"user-friends":"user"}})],1):e._e(),e.grimoire.isNight?s("span",[e._v(" Noite. "),s("font-awesome-icon",{attrs:{icon:["fas","cloud-moon"]}})],1):e._e()]):e._e()])},H=[],J=t("634a"),W={computed:{teams:function(){const{players:e}=this.$store.state.players,o=this.$store.getters["players/nonTravelers"],t=e.filter(e=>!0!==e.isDead).length;return{...J[o-5],traveler:e.length-o,alive:t,votes:t+e.filter(e=>!0===e.isDead&&!0!==e.isVoteless).length}},...Object(r["d"])(["edition","grimoire"]),...Object(r["d"])("players",["players"])}},Z=W,Q=(t("7b9e"),Object(f["a"])(Z,G,H,!1,null,"16db7ff7",null)),K=Q.exports,X=function(){var e=this,o=e.$createElement,t=e._self._c||o;return t("div",{attrs:{id:"controls"}},[e.session.sessionId?t("span",{staticClass:"session",class:{spectator:e.session.isSpectator,reconnecting:e.session.isReconnecting},attrs:{title:e.session.playerCount+" other players in this session"+(e.session.ping?" ("+e.session.ping+"ms latency)":"")},on:{click:e.leaveSession}},[t("font-awesome-icon",{attrs:{icon:"broadcast-tower"}}),e._v(" "+e._s(e.session.playerCount)+" ")],1):e._e(),t("div",{staticClass:"menu",class:{open:e.grimoire.isMenuOpen}},[t("font-awesome-icon",{attrs:{icon:"cog"},on:{click:e.toggleMenu}}),t("ul",[t("li",{staticClass:"tabs",class:e.tab},[t("font-awesome-icon",{attrs:{icon:"book-open"},on:{click:function(o){e.tab="grimoire"}}}),t("font-awesome-icon",{attrs:{icon:"broadcast-tower"},on:{click:function(o){e.tab="session"}}}),e.session.isSpectator?e._e():t("font-awesome-icon",{attrs:{icon:"users"},on:{click:function(o){e.tab="players"}}}),t("font-awesome-icon",{attrs:{icon:"theater-masks"},on:{click:function(o){e.tab="characters"}}}),t("font-awesome-icon",{attrs:{icon:"question"},on:{click:function(o){e.tab="help"}}})],1),"grimoire"===e.tab?[t("li",{staticClass:"headline"},[e._v("Grimório")]),e.players.length?t("li",{on:{click:e.toggleGrimoire}},[e.grimoire.isPublic?e._e():[e._v("Esconder")],e.grimoire.isPublic?[e._v("Mostrar")]:e._e(),t("em",[e._v("[G]")])],2):e._e(),e.session.isSpectator?e._e():t("li",{on:{click:e.toggleNight}},[e.grimoire.isNight?e._e():[e._v("Trocar para Noite")],e.grimoire.isNight?[e._v("Trocar para Dia")]:e._e(),t("em",[t("font-awesome-icon",{attrs:{icon:["fas",e.grimoire.isNight?"sun":"cloud-moon"]}})],1)],2),e.players.length?t("li",{on:{click:e.toggleNightOrder}},[e._v(" Ordem da Noite "),t("em",[t("font-awesome-icon",{attrs:{icon:["fas",e.grimoire.isNightOrder?"check-square":"square"]}})],1)]):e._e(),e.players.length?t("li",[e._v(" Zoom "),t("em",[t("font-awesome-icon",{attrs:{icon:"search-minus"},on:{click:function(o){return e.setZoom(e.grimoire.zoom-1)}}}),e._v(" "+e._s(Math.round(100+10*e.grimoire.zoom))+"% "),t("font-awesome-icon",{attrs:{icon:"search-plus"},on:{click:function(o){return e.setZoom(e.grimoire.zoom+1)}}})],1)]):e._e(),t("li",{on:{click:e.setBackground}},[e._v(" Imagem de Fundo "),t("em",[t("font-awesome-icon",{attrs:{icon:"image"}})],1)]),t("li",{on:{click:e.toggleMute}},[e._v(" Mutar Sons "),t("em",[t("font-awesome-icon",{attrs:{icon:["fas",e.grimoire.isMuted?"volume-mute":"volume-up"]}})],1)])]:e._e(),"session"===e.tab?[e.session.sessionId?t("li",{staticClass:"headline"},[e._v(" "+e._s(e.session.isSpectator?"Playing":"Hosting")+" ")]):t("li",{staticClass:"headline"},[e._v(" Live Session ")]),e.session.sessionId?e._e():t("li",{on:{click:e.hostSession}},[e._v(" Host (Narrador)"),t("em",[e._v("[H]")])]),e.session.sessionId?e._e():t("li",{on:{click:e.joinSession}},[e._v(" Entrar (Jogador)"),t("em",[e._v("[J]")])]),e.session.sessionId&&e.session.ping?t("li",[e._v(" Delay com "+e._s(e.session.isSpectator?"host":"players")+" "),t("em",[e._v(e._s(e.session.ping)+"ms")])]):e._e(),e.session.sessionId?t("li",{on:{click:e.copySessionUrl}},[e._v(" Link da partida "),t("em",[t("font-awesome-icon",{attrs:{icon:"copy"}})],1)]):e._e(),e.session.isSpectator?e._e():t("li",{on:{click:e.distributeRoles}},[e._v(" Enviar Personanges "),t("em",[t("font-awesome-icon",{attrs:{icon:"theater-masks"}})],1)]),e.session.voteHistory.length?t("li",{on:{click:function(o){return e.toggleModal("voteHistory")}}},[e._v(" Histórico de nomeação"),t("em",[e._v("[V]")])]):e._e(),e.session.sessionId?t("li",{on:{click:e.leaveSession}},[e._v(" Sair da sessão "),t("em",[e._v(e._s(e.session.sessionId))])]):e._e()]:e._e(),"players"!==e.tab||e.session.isSpectator?e._e():[t("li",{staticClass:"headline"},[e._v("Jogadores")]),e.players.length<20?t("li",{on:{click:e.addPlayer}},[e._v("Adicionar"),t("em",[e._v("[A]")])]):e._e(),e.players.length>2?t("li",{on:{click:e.randomizeSeatings}},[e._v(" Randomizar "),t("em",[t("font-awesome-icon",{attrs:{icon:"dice"}})],1)]):e._e(),e.players.length?t("li",{on:{click:e.clearPlayers}},[e._v(" Remover Todos "),t("em",[t("font-awesome-icon",{attrs:{icon:"trash-alt"}})],1)]):e._e()],"characters"===e.tab?[t("li",{staticClass:"headline"},[e._v("Personagens")]),e.session.isSpectator?e._e():t("li",{on:{click:function(o){return e.toggleModal("edition")}}},[e._v(" Selecionar Edição "),t("em",[e._v("[E]")])]),!e.session.isSpectator&&e.players.length>4?t("li",{on:{click:function(o){return e.toggleModal("roles")}}},[e._v(" Escolher & Atribuir "),t("em",[e._v("[C]")])]):e._e(),e.session.isSpectator?e._e():t("li",{on:{click:function(o){return e.toggleModal("fabled")}}},[e._v(" Adicionar Lenda "),t("em",[t("font-awesome-icon",{attrs:{icon:"dragon"}})],1)]),e.players.length?t("li",{on:{click:e.clearRoles}},[e._v(" Remover Todos "),t("em",[t("font-awesome-icon",{attrs:{icon:"trash-alt"}})],1)]):e._e()]:e._e(),"help"===e.tab?[t("li",{staticClass:"headline"},[e._v("Ajuda")]),t("li",{on:{click:function(o){return e.toggleModal("reference")}}},[e._v(" Folha de Referência "),t("em",[e._v("[R]")])]),t("li",{on:{click:function(o){return e.toggleModal("nightOrder")}}},[e._v(" Ordem da Noite "),t("em",[e._v("[N]")])]),t("li",{on:{click:function(o){return e.toggleModal("gameState")}}},[e._v(" Game State JSON "),t("em",[t("font-awesome-icon",{attrs:{icon:"file-code"}})],1)]),t("li",[t("a",{attrs:{href:"https://discord.gg/3FGe8M44tW",target:"_blank"}},[e._v(" Entrar Discord ")]),t("em",[t("a",{attrs:{href:"https://discord.gg/3FGe8M44tW",target:"_blank"}},[t("font-awesome-icon",{attrs:{icon:["fab","discord"]}})],1)])]),t("li",[t("a",{attrs:{href:"https://github.com/botcbr/townsquare",target:"_blank"}},[e._v(" Source code ")]),t("em",[t("a",{attrs:{href:"https://github.com/botcbr/townsquare",target:"_blank"}},[t("font-awesome-icon",{attrs:{icon:["fab","github"]}})],1)])])]:e._e()],2)],1)])},Y=[],ee={computed:{...Object(r["d"])(["grimoire","session"]),...Object(r["d"])("players",["players"])},data(){return{tab:"grimoire"}},methods:{setBackground(){const e=prompt("Enter custom background URL");(e||""===e)&&this.$store.commit("setBackground",e)},toggleMute(){this.$store.commit("setIsMuted",!this.grimoire.isMuted)},hostSession(){if(this.session.sessionId)return;const e=prompt("Enter a channel number / name for your session",Math.round(1e4*Math.random()));e&&(this.$store.commit("session/clearVoteHistory"),this.$store.commit("session/setSpectator",!1),this.$store.commit("session/setSessionId",e),this.copySessionUrl())},copySessionUrl(){const e=window.location.href.split("#")[0],o=e+"#"+this.session.sessionId;navigator.clipboard.writeText(o)},distributeRoles(){if(this.session.isSpectator)return;const e="Do you want to distribute assigned characters to all SEATED players?";confirm(e)&&(this.$store.commit("session/distributeRoles",!0),setTimeout((()=>{this.$store.commit("session/distributeRoles",!1)}).bind(this),2e3))},joinSession(){if(this.session.sessionId)return this.leaveSession();const e=prompt("Enter the channel number / name of the session you want to join");e&&(this.$store.commit("session/clearVoteHistory"),this.$store.commit("session/setSpectator",!0),this.$store.commit("toggleGrimoire",!1),this.$store.commit("session/setSessionId",e))},leaveSession(){confirm("Are you sure you want to leave the active live game?")&&(this.$store.commit("session/setSpectator",!1),this.$store.commit("session/setSessionId",""))},addPlayer(){if(this.session.isSpectator)return;if(this.players.length>=20)return;const e=prompt("Player name");e&&this.$store.commit("players/add",e)},randomizeSeatings(){this.session.isSpectator||confirm("Are you sure you want to randomize seatings?")&&this.$store.dispatch("players/randomize")},clearPlayers(){this.session.isSpectator||confirm("Are you sure you want to remove all players?")&&this.$store.commit("players/clear")},clearRoles(){confirm("Are you sure you want to remove all player roles?")&&this.$store.dispatch("players/clearRoles")},...Object(r["c"])(["toggleGrimoire","toggleMenu","toggleNight","toggleNightOrder","setZoom","toggleModal"])}},oe=ee,te=(t("efa5"),Object(f["a"])(oe,X,Y,!1,null,"9ba20c2a",null)),se=te.exports,ie=function(){var e=this,o=e.$createElement,t=e._self._c||o;return e.modals.roles&&e.nonTravelers>=5?t("Modal",{staticClass:"roles",on:{close:function(o){return e.toggleModal("roles")}}},[t("h3",[e._v("Selecione os personanges para "+e._s(e.nonTravelers)+" jogadores:")]),e._l(e.roleSelection,(function(o,s){return t("ul",{key:s,staticClass:"tokens"},[t("li",{staticClass:"count",class:[s]},[e._v(" "+e._s(o.filter((function(e){return e.selected})).length)+" / "+e._s(e.game[e.nonTravelers-5][s])+" ")]),e._l(o,(function(e){return t("li",{key:e.id,class:[e.team,e.selected?"selected":""],on:{click:function(o){e.selected=!e.selected}}},[t("Token",{attrs:{role:e}})],1)}))],2)})),e.hasSelectedSetupRoles?t("div",{staticClass:"warning"},[e._v(" Aviso: existem personagens selecionados que modificam a configuração do jogo! o randomizer não leva em conta esses personagens. ")]):e._e(),t("div",{staticClass:"button-group"},[t("div",{staticClass:"button",class:{disabled:e.selectedRoles>e.nonTravelers||!e.selectedRoles},on:{click:e.assignRoles}},[t("font-awesome-icon",{attrs:{icon:"people-arrows"}}),e._v(" Atribuir "+e._s(e.selectedRoles)+" personagens randomicamente ")],1),t("div",{staticClass:"button",on:{click:e.selectRandomRoles}},[t("font-awesome-icon",{attrs:{icon:"random"}}),e._v(" Randomizar Personagens ")],1)])],2):e._e()},ae=[];const re=e=>e[Math.floor(Math.random()*e.length)];var ne={components:{Token:v,Modal:C},data:function(){return{roleSelection:{},game:J}},computed:{selectedRoles:function(){return Object.values(this.roleSelection).map(e=>e.filter(e=>e.selected).length).reduce((e,o)=>e+o,0)},hasSelectedSetupRoles:function(){return Object.values(this.roleSelection).some(e=>e.some(e=>e.selected&&e.setup))},...Object(r["d"])(["roles","modals"]),...Object(r["d"])("players",["players"]),...Object(r["b"])({nonTravelers:"players/nonTravelers"})},methods:{selectRandomRoles(){this.roleSelection={},this.roles.forEach(e=>{this.roleSelection[e.team]||this.$set(this.roleSelection,e.team,[]),this.roleSelection[e.team].push(e),this.$set(e,"selected",!1)}),delete this.roleSelection["traveler"];const e=Math.max(5,this.nonTravelers),o=this.game[e-5];Object.keys(o).forEach(e=>{for(let t=0;t<o[e];t++)if(this.roleSelection[e]){const o=this.roleSelection[e].filter(e=>!0!==e.selected);o.length&&(re(o).selected=!0)}})},assignRoles(){if(this.selectedRoles<=this.nonTravelers&&this.selectedRoles){const e=Object.values(this.roleSelection).map(e=>e.filter(e=>e.selected)).reduce((e,o)=>[...e,...o],[]).map(e=>[Math.random(),e]).sort((e,o)=>e[0]-o[0]).map(e=>e[1]);this.players.forEach(o=>{if("traveler"!==o.role.team&&e.length){const t=e.pop();this.$store.commit("players/update",{player:o,property:"role",value:t})}}),this.$store.commit("toggleModal","roles")}},...Object(r["c"])(["toggleModal"])},mounted:function(){Object.keys(this.roleSelection).length||this.selectRandomRoles()},watch:{roles(){this.selectRandomRoles()}}},de=ne,le=(t("9922"),Object(f["a"])(de,ie,ae,!1,null,"1977f5a0",null)),me=le.exports,ce=function(){var e=this,o=e.$createElement,s=e._self._c||o;return e.modals.edition?s("Modal",{staticClass:"editions",on:{close:function(o){return e.toggleModal("edition")}}},[e.isCustom?s("div",{staticClass:"custom"},[s("h3",[e._v("Carregue um Cenário/Personagem Personalizado")]),e._v(" Para jogar com um script personalizado, você precisa selecionar os personagens que deseja para jogar no oficial "),s("a",{attrs:{href:"https://bloodontheclocktower.com/script-tool/",target:"_blank"}},[e._v("Script Tool")]),e._v(' e carregue o "custom-list.json" gerado diretamente aqui ou forneça uma URL para esse arquivo JSON hospedado.'),s("br"),s("br"),e._v(" Para jogar com personagens personalizados, leia "),s("a",{attrs:{href:"https://github.com/bra1n/townsquare#custom-characters",target:"_blank"}},[e._v("the documentation")]),e._v(" sobre como escrever um arquivo de definição de caractere personalizado. "),s("b",[e._v("Only load custom JSON files from sources that you trust!")]),s("h3",[e._v("Alguns scripts personalizados populares:")]),s("ul",{staticClass:"scripts"},e._l(e.scripts,(function(o,t){return s("li",{key:t,on:{click:function(t){return e.handleURL(o[1])}}},[e._v(" "+e._s(o[0])+" ")])})),0),s("input",{ref:"upload",attrs:{type:"file",accept:"application/json"},on:{change:e.handleUpload}}),s("div",{staticClass:"button-group"},[s("div",{staticClass:"button",on:{click:e.openUpload}},[s("font-awesome-icon",{attrs:{icon:"file-upload"}}),e._v(" Upload JSON ")],1),s("div",{staticClass:"button",on:{click:e.promptURL}},[s("font-awesome-icon",{attrs:{icon:"link"}}),e._v(" Enter URL ")],1),s("div",{staticClass:"button",on:{click:function(o){e.isCustom=!1}}},[s("font-awesome-icon",{attrs:{icon:"undo"}}),e._v(" Back ")],1)])]):s("div",[s("h3",[e._v("Selecione uma Edição:")]),s("ul",{staticClass:"editions"},[e._l(e.editions,(function(o){return s("li",{key:o.id,staticClass:"edition",class:["edition-"+o.id],style:{backgroundImage:"url("+t("ce23")("./"+o.id+".png")+")"},on:{click:function(t){return e.setEdition(o)}}},[e._v(" "+e._s(o.name)+" ")])})),s("li",{staticClass:"edition edition-custom",style:{backgroundImage:"url("+t("441d")+")"},on:{click:function(o){e.isCustom=!0}}},[e._v(" Cenários/Personagens Personalizados ")])],2)])]):e._e()},ge=[],ue=t("00c0"),he={components:{Modal:C},data:function(){return{editions:ue,isCustom:!1,scripts:[["Deadly Penance Day","https://gist.githubusercontent.com/bra1n/0337cc44c6fd2c44f7589256ed5486d2/raw/16be38fa3c01aaf49827303ac80577bdb52c0b25/penanceday.json"],["Catfishing 9.0","https://gist.githubusercontent.com/bra1n/8a5ec41a7bbf945f6b7dfc1cef72b569/raw/fed370d55554e0d83e9d56023c230099f41d0660/catfishing.json"],["On Thin Ice (Teensyville)","https://gist.githubusercontent.com/bra1n/8dacd9f2abc6f428331ea1213ab153f5/raw/0cacbcaf8ed9bddae0cca25a9ada97e9958d868b/on-thin-ice.json"],["Race To The Bottom (Teensyville)","https://gist.githubusercontent.com/bra1n/63e1354cb3dc9d4032bcd0623dc48888/raw/5acb0eedcc0a67a64a99c7e0e6271de0b7b2e1b2/race-to-the-bottom.json"],["Frankenstein's Mayor by Ted (Teensyville)","https://gist.githubusercontent.com/bra1n/32c52b422cc01b934a4291eeb81dbcee/raw/5bf770693bbf7aff5e86601c82ca4af3222f4ba6/Frankensteins_Mayor_by_Ted.json"],["Vigormortis High School (Teensyville)","https://gist.githubusercontent.com/bra1n/1f65bd4a999524719d5dabe98c3c2d27/raw/22bbec6bf56a51a7459e5ae41ed47e41971c5445/VigormortisHighSchool.json"],["Madness","https://gist.githubusercontent.com/botcbr/3397ae5dd4f9747cf4c88823522e0b18/raw/909544ef1d76d940150b87463cf0d384cb72ca98/gistfile1.json"]]}},computed:Object(r["d"])(["modals"]),methods:{openUpload(){this.$refs.upload.click()},handleUpload(){const e=this.$refs.upload.files[0];if(e&&e.size){const o=new FileReader;o.addEventListener("load",()=>{try{const e=JSON.parse(o.result);this.parseRoles(e)}catch(e){alert("Error reading custom script: "+e.message)}this.$refs.upload.value=""}),o.readAsText(e)}},promptURL(){const e=prompt("Enter URL to a custom-script.json file");e&&this.handleURL(e)},async handleURL(e){const o=await fetch(e);if(o&&o.json)try{const e=await o.json();this.parseRoles(e)}catch(t){alert("Error loading custom script: "+t.message)}},parseRoles(e){if(!e||!e.length)return;const o=e.findIndex(({id:e})=>"_meta"===e);let t={};o>-1&&(t=e.splice(o,1).pop());const s=e.map(e=>(e.id=e.id.toLocaleLowerCase().replace(/[^a-z0-9]/g,""),e));if(this.$store.commit("setCustomRoles",s),this.$store.commit("setEdition",Object.assign({},t,{id:"custom"})),s.some(({id:e})=>this.$store.state.fabled.has(e))){const e=[];s.forEach(({id:o})=>{this.$store.state.fabled.has(o)&&e.push(this.$store.state.fabled.get(o))}),this.$store.commit("players/setFabled",{fabled:e})}this.isCustom=!1},...Object(r["c"])(["toggleModal","setEdition"])}},pe=he,fe=(t("7eb8"),Object(f["a"])(pe,ce,ge,!1,null,"1c8d44d8",null)),be=fe.exports,ve=function(){var e=this,o=e.$createElement,t=e._self._c||o;return t("div",{staticClass:"intro"},[t("img",{attrs:{src:"static/apple-icon.png",alt:""}}),e._v(" Bem-vindo a (não oficial) "),t("b",[e._v("Cidade Virtual")]),e._v(" para Blood on the Clocktower! Por favor adicione mais jogadores através do "),t("span",{staticClass:"button",on:{click:e.toggleMenu}},[t("font-awesome-icon",{attrs:{icon:"cog"}}),e._v(" Menu ")],1),e._v(" no canto superior direito ou pressionando "),t("b",[e._v("[A]")]),e._v(". Você também pode entrar em uma sessão de jogo pressionando "),t("b",[e._v("[J]")]),e._v("."),t("br"),e._m(0)])},ye=[function(){var e=this,o=e.$createElement,t=e._self._c||o;return t("div",{staticClass:"footer"},[e._v(" Este projeto é gratuito e traduzido de uma versão americana de código aberto e pode ser encontrado em "),t("a",{attrs:{href:"https://github.com/bra1n/townsquare",target:"_blank"}},[e._v("GitHub")]),e._v('. Não é afiliado ao Pandemonium Institute. "Blood on the Clocktower Brasil" não é afiliado ao Steven Medway e ao Pandemonium Institute. ')])}],Ne={methods:Object(r["c"])(["toggleMenu"])},_e=Ne,ke=(t("0fac"),Object(f["a"])(_e,ve,ye,!1,null,"0d7f52da",null)),je=ke.exports,Se=function(){var e=this,o=e.$createElement,s=e._self._c||o;return e.modals.reference&&e.roles.size?s("Modal",{staticClass:"characters",on:{close:function(o){return e.toggleModal("reference")}}},[s("font-awesome-icon",{staticClass:"toggle",attrs:{icon:"cloud-moon",title:"Show Night Order"},on:{click:function(o){return e.toggleModal("nightOrder")}}}),s("h3",[e._v(" Referencia de Personagens "),s("font-awesome-icon",{attrs:{icon:"address-card"}}),e._v(" "+e._s(e.edition.name||"Custom Script")+" ")],1),s("ul",{staticClass:"legend"},[s("li",[s("span",{staticClass:"name"},[e._v("Nome")]),s("span",{staticClass:"icon"},[e._v("Icone")]),s("span",{staticClass:"ability"},[e._v("Habilidade")]),Object.keys(e.playersByRole).length?s("span",{staticClass:"player"},[e._v(" Jogador ")]):e._e()])]),e._l(e.rolesGrouped,(function(o,i){return s("div",{key:i,class:[i]},[s("h4",[e._v(e._s(i))]),s("ul",e._l(o,(function(o){return s("li",{key:o.id,class:[i]},[s("span",{staticClass:"name"},[e._v(e._s(o.name))]),o.id?s("span",{staticClass:"icon",style:{backgroundImage:"url("+(o.image||t("61b0")("./"+o.id+".png"))+")"}}):e._e(),s("span",{staticClass:"ability"},[e._v(e._s(o.ability))]),Object.keys(e.playersByRole).length?s("span",{staticClass:"player"},[e._v(e._s(e.playersByRole[o.id]?e.playersByRole[o.id].join(", "):""))]):e._e()])})),0)])}))],2):e._e()},Re=[],we={components:{Modal:C},data:function(){return{roleSelection:{}}},computed:{rolesGrouped:function(){const e={};return this.roles.forEach(o=>{e[o.team]||(e[o.team]=[]),e[o.team].push(o)}),delete e["traveler"],e},playersByRole:function(){const e={};return this.players.forEach(({name:o,role:t})=>{t&&t.id&&"traveler"!==t.team&&(e[t.id]||(e[t.id]=[]),e[t.id].push(o))}),e},...Object(r["d"])(["roles","modals","edition"]),...Object(r["d"])("players",["players"])},methods:{...Object(r["c"])(["toggleModal"])}},xe=we,Oe=(t("1f6d"),Object(f["a"])(xe,Se,Re,!1,null,"7f6d84bf",null)),Me=Oe.exports,Ce=function(){var e=this,o=e.$createElement,s=e._self._c||o;return s("div",{attrs:{id:"vote"}},[s("div",{staticClass:"arrows"},[s("span",{staticClass:"nominee",style:e.nomineeStyle}),s("span",{staticClass:"nominator",style:e.nominatorStyle})]),s("div",{staticClass:"overlay"},[s("audio",{attrs:{src:t("f6a8"),preload:"auto"}}),s("em",{staticClass:"blue"},[e._v(e._s(e.nominator.name))]),e._v(" nomeou "),s("em",[e._v(e._s(e.nominee.name))]),e._v("! "),s("br"),"traveler"!==e.nominee.role.team?[s("em",{staticClass:"blue"},[e._v(" "+e._s(e.voters.length)+" voto"+e._s(1!==e.voters.length?"s":"")+" ")]),e._v(" em favor "),s("em",[e._v("(maioria é "+e._s(Math.ceil(e.alive/2))+")")])]:[s("em",[e._v(e._s(Math.ceil(e.players.length/2))+" votos")]),e._v(" requeridos para a maioria "),s("em",[e._v("maioria")]),e._v(". ")],e.session.isVoteInProgress||e.session.lockedVote>1?s("div",[e.voters.length?s("em",{staticClass:"blue"},[e._v(e._s(e.voters.join(", "))+" ")]):s("span",[e._v("ninguém")]),e._v(" levantou a "),s("em",[e._v("MÃO")])]):e._e(),e.session.isSpectator?e.canVote?[e.session.isVoteInProgress?e._e():s("div",[e._v(" "+e._s(e.session.votingSpeed/1e3)+" segundos entre os votos ")]),s("div",{staticClass:"button-group"},[s("div",{staticClass:"button townsfolk",class:{disabled:!e.currentVote},on:{click:function(o){return e.vote(!1)}}},[e._v(" ABAIXAR a Mão ")]),s("div",{staticClass:"button demon",class:{disabled:e.currentVote},on:{click:function(o){return e.vote(!0)}}},[e._v(" LEVANTAR a Mão ")])])]:e.player?e._e():s("div",[e._v(" Por favor clame um assento para votar. ")]):[!e.session.isVoteInProgress&&e.session.lockedVote<1?s("div",[e._v(" Tempo por jogador: "),s("font-awesome-icon",{attrs:{icon:"minus-circle"},on:{mousedown:function(o){return o.preventDefault(),e.setVotingSpeed(-500)}}}),e._v(" "+e._s(e.session.votingSpeed/1e3)+"s "),s("font-awesome-icon",{attrs:{icon:"plus-circle"},on:{mousedown:function(o){return o.preventDefault(),e.setVotingSpeed(500)}}})],1):e._e(),s("div",{staticClass:"button-group"},[e.session.isVoteInProgress?e._e():s("div",{staticClass:"button townsfolk",on:{click:e.countdown}},[e._v(" Contagem ")]),e.session.isVoteInProgress?[s("div",{staticClass:"button townsfolk",class:{disabled:!e.session.lockedVote},on:{click:e.pause}},[e._v(" "+e._s(e.voteTimer?"Pausar":"Retomar")+" ")]),s("div",{staticClass:"button",on:{click:e.stop}},[e._v("Resetar")])]:s("div",{staticClass:"button",on:{click:e.start}},[e._v(" "+e._s(e.session.lockedVote?"Restart":"Iniciar")+" ")]),s("div",{staticClass:"button demon",on:{click:e.finish}},[e._v("Fechar")])],2)]],2),s("transition",{attrs:{name:"blur"}},[e.session.isVoteInProgress&&!e.session.lockedVote?s("div",{staticClass:"countdown"},[s("span",[e._v("3")]),s("span",[e._v("2")]),s("span",[e._v("1")]),s("span",[e._v("GO")]),s("audio",{attrs:{autoplay:!e.grimoire.isMuted,src:t("f6a8"),muted:e.grimoire.isMuted}})]):e._e()])],1)},Ie=[],qe={computed:{...Object(r["d"])("players",["players"]),...Object(r["d"])(["session","grimoire"]),...Object(r["b"])({alive:"players/alive"}),nominator:function(){return this.players[this.session.nomination[0]]},nominatorStyle:function(){const e=this.players.length,o=this.session.nomination[0];return{transform:`rotate(${Math.round(o/e*360)}deg)`,transitionDuration:this.session.votingSpeed-.1+"s"}},nominee:function(){return this.players[this.session.nomination[1]]},nomineeStyle:function(){const e=this.players.length,o=this.session.nomination[1],t=this.session.lockedVote,s=360*(o+Math.min(t,e))/e;return{transform:`rotate(${Math.round(s)}deg)`,transitionDuration:this.session.votingSpeed-100+"ms"}},player:function(){return this.players.find(e=>e.id===this.session.playerId)},currentVote:function(){const e=this.players.findIndex(e=>e.id===this.session.playerId);return e>=0?!!this.session.votes[e]:void 0},canVote:function(){if(!this.player)return!1;if(this.player.isVoteless&&"traveler"!==this.nominee.role.team)return!1;const e=this.session,o=this.players.length,t=this.players.indexOf(this.player),s=(t-1+o-e.nomination[1])%o;return s>=e.lockedVote-1},voters:function(){const e=this.session.nomination[1],o=Array(this.players.length).fill("").map((e,o)=>this.session.votes[o]?this.players[o].name:""),t=[...o.slice(e+1),...o.slice(0,e+1)];return t.slice(0,this.session.lockedVote-1).filter(e=>!!e)}},data(){return{voteTimer:null}},methods:{countdown(){this.$store.commit("session/lockVote",0),this.$store.commit("session/setVoteInProgress",!0),this.voteTimer=setInterval(()=>{this.start()},4e3)},start(){this.$store.commit("session/lockVote",1),this.$store.commit("session/setVoteInProgress",!0),clearInterval(this.voteTimer),this.voteTimer=setInterval(()=>{this.$store.commit("session/lockVote"),this.session.lockedVote>this.players.length&&(clearInterval(this.voteTimer),this.$store.commit("session/setVoteInProgress",!1))},this.session.votingSpeed)},pause(){this.voteTimer?(clearInterval(this.voteTimer),this.voteTimer=null):this.voteTimer=setInterval(()=>{this.$store.commit("session/lockVote"),this.session.lockedVote>this.players.length&&(clearInterval(this.voteTimer),this.$store.commit("session/setVoteInProgress",!1))},this.session.votingSpeed)},stop(){clearInterval(this.voteTimer),this.voteTimer=null,this.$store.commit("session/setVoteInProgress",!1),this.$store.commit("session/lockVote",0)},finish(){clearInterval(this.voteTimer),this.$store.commit("session/addHistory",this.players),this.$store.commit("session/nomination")},vote(e){if(!this.canVote)return!1;const o=this.players.findIndex(e=>e.id===this.session.playerId);o>=0&&!!this.session.votes[o]!==e&&this.$store.commit("session/voteSync",[o,e])},setVotingSpeed(e){const o=Math.round(this.session.votingSpeed+e);o>0&&this.$store.commit("session/setVotingSpeed",o)}}},Pe=qe,Ve=(t("67b8"),Object(f["a"])(Pe,Ce,Ie,!1,null,"da907900",null)),Ee=Ve.exports,Te=function(){var e=this,o=e.$createElement,t=e._self._c||o;return t("div",{attrs:{id:"gradients"}},e._l(e.gradients,(function(e,o){return t("svg",{key:o,attrs:{width:"0",height:"0"}},[t("linearGradient",{attrs:{id:e[0],x1:"50%",y1:"100%",x2:"50%",y2:"0%"}},[t("stop",{style:{"stop-color":e[2],"stop-opacity":1},attrs:{offset:"0%"}}),t("stop",{style:{"stop-color":e[1],"stop-opacity":1},attrs:{offset:"100%"}})],1)],1)})),0)},De=[],$e={data(){return{gradients:[["demon","#ce0100","#000"],["townsfolk","#1f65ff","#000"],["default","#4E4E4E","#000"]]}}},Ae=$e,Be=(t("3f8f"),Object(f["a"])(Ae,Te,De,!1,null,"1e202a64",null)),ze=Be.exports,Fe=function(){var e=this,o=e.$createElement,s=e._self._c||o;return e.modals.nightOrder&&e.roles.size?s("Modal",{staticClass:"night-reference",on:{close:function(o){return e.toggleModal("nightOrder")}}},[s("font-awesome-icon",{staticClass:"toggle",attrs:{icon:"address-card",title:"Show Character Reference"},on:{click:function(o){return e.toggleModal("reference")}}}),s("h3",[e._v(" Ordem da Noite "),s("font-awesome-icon",{attrs:{icon:"cloud-moon"}}),e._v(" "+e._s(e.edition.name||"Custom Script")+" ")],1),s("div",{staticClass:"night"},[s("ul",{staticClass:"first"},[s("li",{staticClass:"headline"},[e._v("Primeira Noite")]),e._l(e.rolesFirstNight,(function(o){return s("li",{key:o.name,class:[o.team]},[s("span",{staticClass:"name"},[e._v(" "+e._s(o.name)+" ")]),o.id?s("span",{staticClass:"icon",style:{backgroundImage:"url("+(o.image||t("61b0")("./"+o.id+".png"))+")"}}):e._e()])}))],2),s("ul",{staticClass:"other"},[s("li",{staticClass:"headline"},[e._v("Outras Noites")]),e._l(e.rolesOtherNight,(function(o){return s("li",{key:o.name,class:[o.team]},[o.id?s("span",{staticClass:"icon",style:{backgroundImage:"url("+(o.image||t("61b0")("./"+o.id+".png"))+")"}}):e._e(),s("span",{staticClass:"name"},[e._v(" "+e._s(o.name)+" ")])])}))],2)])],1):e._e()},Le=[],Ue={components:{Modal:C},data:function(){return{roleSelection:{}}},computed:{rolesFirstNight:function(){const e=[];return this.players.length>6&&e.push({id:"evil",name:"Minion info",firstNight:2,team:"minion"},{id:"evil",name:"Demon info & bluffs",firstNight:4,team:"demon"}),this.roles.forEach(o=>{o.firstNight&&("traveler"!==o.team||this.players.some(e=>e.role.id===o.id))&&e.push(o)}),this.fabled.filter(({firstNight:e})=>e).forEach(o=>{e.push(o)}),e.sort((e,o)=>e.firstNight-o.firstNight),e},rolesOtherNight:function(){const e=[];return this.roles.forEach(o=>{o.otherNight&&("traveler"!==o.team||this.players.some(e=>e.role.id===o.id))&&e.push(o)}),this.fabled.filter(({otherNight:e})=>e).forEach(o=>{e.push(o)}),e.sort((e,o)=>e.otherNight-o.otherNight),e},...Object(r["d"])(["roles","modals","edition","grimoire"]),...Object(r["d"])("players",["players","fabled"])},methods:{...Object(r["c"])(["toggleModal"])}},Ge=Ue,He=(t("7bfc"),Object(f["a"])(Ge,Fe,Le,!1,null,"31fb5de0",null)),Je=He.exports,We=function(){var e=this,o=e.$createElement,t=e._self._c||o;return e.modals.fabled&&e.fabled.length?t("Modal",{on:{close:function(o){return e.toggleModal("fabled")}}},[t("h3",[e._v(" Escolha uma Lenda para adicionar ao jogo ")]),t("ul",{staticClass:"tokens"},e._l(e.fabled,(function(o){return t("li",{key:o.id,on:{click:function(t){return e.setFabled(o)}}},[t("Token",{attrs:{role:o}})],1)})),0)]):e._e()},Ze=[],Qe={components:{Token:v,Modal:C},computed:{...Object(r["d"])(["modals","fabled","grimoire"]),fabled(){const e=[];return this.$store.state.fabled.forEach(o=>{this.$store.state.players.fabled.some(e=>e.id===o.id)||e.push(o)}),e}},methods:{setFabled(e){this.$store.commit("players/setFabled",{fabled:e}),this.$store.commit("toggleModal","fabled")},...Object(r["c"])(["toggleModal"])}},Ke=Qe,Xe=(t("5468"),Object(f["a"])(Ke,We,Ze,!1,null,"b42b9710",null)),Ye=Xe.exports,eo=function(){var e=this,o=e.$createElement,t=e._self._c||o;return t("Modal",{directives:[{name:"show",rawName:"v-show",value:e.modals.voteHistory&&e.session.voteHistory,expression:"modals.voteHistory && session.voteHistory"}],staticClass:"vote-history",on:{close:function(o){return e.toggleModal("voteHistory")}}},[t("font-awesome-icon",{staticClass:"clear",attrs:{icon:"trash-alt",title:"Clear history"},on:{click:e.clearVoteHistory}}),t("h3",[e._v("Histórico de Nomeações")]),t("table",[t("thead",[t("tr",[t("td",[e._v("Nomeador")]),t("td",[e._v("Nomiado")]),t("td",[e._v("Tipo")]),t("td",[e._v("Maioria")]),t("td",[t("font-awesome-icon",{attrs:{icon:"hand-paper"}}),e._v(" Levantou a Mão")],1)])]),t("tbody",e._l(e.session.voteHistory,(function(o,s){return t("tr",{key:s},[t("td",[e._v(e._s(o.nominator))]),t("td",[e._v(e._s(o.nominee))]),t("td",[e._v(e._s(o.type))]),t("td",[e._v(e._s(o.majority))]),t("td",[e._v(" "+e._s(o.votes.length)+" "),t("font-awesome-icon",{attrs:{icon:"user-friends"}}),e._v(" "+e._s(o.votes.join(", "))+" ")],1)])})),0)])],1)},oo=[],to={components:{Modal:C},computed:{...Object(r["d"])(["session","modals"])},methods:{...Object(r["c"])(["toggleModal"]),...Object(r["c"])("session",["clearVoteHistory"])}},so=to,io=(t("4a98"),Object(f["a"])(so,eo,oo,!1,null,"1f3887a1",null)),ao=io.exports,ro=function(){var e=this,o=e.$createElement,t=e._self._c||o;return e.modals.gameState?t("Modal",{staticClass:"game-state",on:{close:function(o){return e.toggleModal("gameState")}}},[t("h3",[e._v("Current Game State")]),t("textarea",{domProps:{value:e.gamestate},on:{input:function(o){o.stopPropagation(),e.input=o.target.value},click:function(e){return e.target.select()},keyup:function(e){e.stopPropagation()}}}),t("div",{staticClass:"button-group"},[t("div",{staticClass:"button townsfolk",on:{click:e.copy}},[t("font-awesome-icon",{attrs:{icon:"copy"}}),e._v(" Copy JSON ")],1),e.session.isSpectator?e._e():t("div",{staticClass:"button demon",on:{click:e.load}},[t("font-awesome-icon",{attrs:{icon:"cog"}}),e._v(" Load State ")],1)])]):e._e()},no=[],lo={components:{Modal:C},computed:{gamestate:function(){return JSON.stringify({bluffs:this.players.bluffs.map(({id:e})=>e),edition:this.edition.isOfficial?{id:this.edition.id}:this.edition,roles:this.edition.isOfficial?"":this.$store.getters.customRoles,fabled:this.players.fabled.map(({id:e})=>e),players:this.players.players.map(e=>({...e,role:e.role.id||{}}))})},...Object(r["d"])(["modals","players","edition","roles","session"])},data(){return{input:""}},methods:{copy:function(){navigator.clipboard.writeText(this.input||this.gamestate)},load:function(){if(!this.session.isSpectator)try{const e=JSON.parse(this.input||this.gamestate),{bluffs:o,edition:t,roles:s,fabled:i,players:a}=e;s&&this.$store.commit("setCustomRoles",s),t&&this.$store.commit("setEdition",t),o.length&&o.forEach((e,o)=>{this.$store.commit("players/setBluff",{index:o,role:this.$store.state.roles.get(e)||{}})}),i&&this.$store.commit("players/setFabled",{fabled:i.map(e=>this.$store.state.fabled.get(e))}),a&&this.$store.commit("players/set",a.map(e=>({...e,role:this.$store.state.roles.get(e.role)||this.$store.getters.rolesJSONbyId.get(e.role)||{}}))),this.toggleModal("gameState")}catch(e){alert("Unable to parse JSON: "+e)}},...Object(r["c"])(["toggleModal"])}},mo=lo,co=(t("aec9"),Object(f["a"])(mo,ro,no,!1,null,"935cca7a",null)),go=co.exports,uo={components:{GameStateModal:go,VoteHistoryModal:ao,FabledModal:Ye,NightOrderModal:Je,Vote:Ee,ReferenceModal:Me,Intro:je,TownInfo:K,TownSquare:U,Menu:se,EditionModal:be,RolesModal:me,Gradients:ze},computed:{...Object(r["d"])(["grimoire","session"]),...Object(r["d"])("players",["players"])},data(){return{version:n["a"]}},methods:{keyup({key:e,ctrlKey:o,metaKey:t}){if(!o&&!t)switch(e.toLocaleLowerCase()){case"g":this.$store.commit("toggleGrimoire");break;case"a":this.$refs.menu.addPlayer();break;case"h":this.$refs.menu.hostSession();break;case"j":this.$refs.menu.joinSession();break;case"r":this.$store.commit("toggleModal","reference");break;case"n":this.$store.commit("toggleModal","nightOrder");break;case"e":if(this.session.isSpectator)return;this.$store.commit("toggleModal","edition");break;case"c":if(this.session.isSpectator)return;this.$store.commit("toggleModal","roles");break;case"v":this.session.voteHistory.length&&this.$store.commit("toggleModal","voteHistory");break;case"escape":this.$store.commit("toggleModal")}}}},ho=uo,po=(t("5c0b"),Object(f["a"])(ho,i,a,!1,null,null,null)),fo=po.exports,bo=t("dfb1"),vo=t.n(bo);class yo{constructor(e){this._wss="wss://live.clocktower.online:8080/",this._socket=null,this._isSpectator=!0,this._gamestate=[],this._store=e,this._pingInterval=3e4,this._pingTimer=null,this._reconnectTimer=null,this._players={},this._pings={},this._store.state.session.sessionId&&this.connect(this._store.state.session.sessionId)}_open(e){this.disconnect(),this._socket=new WebSocket(this._wss+e+"/"+(this._isSpectator?this._store.state.session.playerId:"host")),this._socket.addEventListener("message",this._handleMessage.bind(this)),this._socket.onopen=this._onOpen.bind(this),this._socket.onclose=o=>{this._socket=null,clearInterval(this._pingTimer),this._pingTimer=null,1e3!==o.code?(this._store.commit("session/setReconnecting",!0),this._reconnectTimer=setTimeout(()=>this.connect(e),3e3)):(this._store.commit("session/setSessionId",""),o.reason&&alert(o.reason))}}_send(e,o){this._socket&&1===this._socket.readyState&&this._socket.send(JSON.stringify([e,o]))}_onOpen(){this._isSpectator?this._send("req","gs"):this.sendGamestate(),this._ping()}_ping(){this._send("ping",[this._isSpectator,this._store.state.session.playerId,"latency"]),this._handlePing(),clearTimeout(this._pingTimer),this._pingTimer=setTimeout(this._ping.bind(this),this._pingInterval)}_handleMessage({data:e}){let o,t;try{[o,t]=JSON.parse(e)}catch(s){console.log("unsupported socket message",e)}switch(o){case"req":"gs"===t&&this.sendGamestate();break;case"edition":this._updateEdition(t);break;case"fabled":this._updateFabled(t);break;case"gs":this._updateGamestate(t);break;case"player":this._updatePlayer(t);break;case"claim":this._updateSeat(t);break;case"ping":this._handlePing(t);break;case"nomination":if(!this._isSpectator)return;t||this._store.commit("session/addHistory",this._store.state.players.players),this._store.commit("session/nomination",{nomination:t});break;case"swap":if(!this._isSpectator)return;this._store.commit("players/swap",t);break;case"move":if(!this._isSpectator)return;this._store.commit("players/move",t);break;case"isNight":if(!this._isSpectator)return;this._store.commit("toggleNight",t);break;case"votingSpeed":if(!this._isSpectator)return;this._store.commit("session/setVotingSpeed",t);break;case"clearVoteHistory":if(!this._isSpectator)return;this._store.commit("session/clearVoteHistory");break;case"isVoteInProgress":if(!this._isSpectator)return;this._store.commit("session/setVoteInProgress",t);break;case"vote":this._handleVote(t);break;case"lock":this._handleLock(t);break;case"bye":this._handleBye(t);break}}connect(e){this._store.state.session.playerId||this._store.commit("session/setPlayerId",Math.random().toString(36).substr(2)),this._pings={},this._store.commit("session/setPlayerCount",0),this._store.commit("session/setPing",0),this._isSpectator=this._store.state.session.isSpectator,this._open(e)}disconnect(){this._pings={},this._store.commit("session/setPlayerCount",0),this._store.commit("session/setPing",0),this._store.commit("session/setReconnecting",!1),clearTimeout(this._reconnectTimer),this._socket&&(this._send("bye",this._store.state.session.playerId),this._socket.close(1e3),this._socket=null)}sendGamestate(e=!1){if(!this._isSpectator)if(this._gamestate=this._store.state.players.players.map(e=>({name:e.name,id:e.id,isDead:e.isDead,isVoteless:e.isVoteless,...e.role&&"traveler"===e.role.team?{roleId:e.role.id}:{}})),e)this._send("gs",{gamestate:this._gamestate,isLightweight:e});else{const{session:e,grimoire:o}=this._store.state,{fabled:t}=this._store.state.players;this.sendEdition(),this._send("gs",{gamestate:this._gamestate,isNight:o.isNight,nomination:e.nomination,votingSpeed:e.votingSpeed,lockedVote:e.lockedVote,isVoteInProgress:e.isVoteInProgress,fabled:t.map(({id:e})=>e),...e.nomination?{votes:e.votes}:{}})}}_updateGamestate(e){if(!this._isSpectator)return;const{gamestate:o,isLightweight:t,isNight:s,nomination:i,votingSpeed:a,votes:r,lockedVote:n,isVoteInProgress:d,fabled:l}=e,m=this._store.state.players.players;if(m.length<o.length)for(let c=m.length;c<o.length;c++)this._store.commit("players/add",o[c].name);else if(m.length>o.length)for(let c=m.length;c>o.length;c--)this._store.commit("players/remove",c-1);o.forEach((e,o)=>{const t=m[o],{roleId:s}=e;if(["name","id","isDead","isVoteless"].forEach(o=>{const s=e[o];t[o]!==s&&this._store.commit("players/update",{player:t,property:o,value:s})}),s&&t.role.id!==s){const e=this._store.state.roles.get(s)||this._store.getters.rolesJSONbyId.get(s);e&&this._store.commit("players/update",{player:t,property:"role",value:e})}else s||"traveler"!==t.role.team||this._store.commit("players/update",{player:t,property:"role",value:{}})}),t||(this._store.commit("toggleNight",!!s),this._store.commit("session/nomination",{nomination:i,votes:r,votingSpeed:a,lockedVote:n,isVoteInProgress:d}),this._store.commit("players/setFabled",{fabled:l.map(e=>this._store.state.fabled.get(e))}))}sendEdition(){if(this._isSpectator)return;const{edition:e}=this._store.state;let o;e.isOfficial||(o=Array.from(this._store.state.roles.keys())),this._send("edition",{edition:e.isOfficial?{id:e.id}:Object.assign({},e,{logo:""}),...o?{roles:o}:{}})}_updateEdition({edition:e,roles:o}){if(this._isSpectator&&(this._store.commit("setEdition",e),o&&(this._store.commit("setCustomRoles",o.map(e=>({id:e}))),this._store.state.roles.size!==o.length))){const e=[];o.forEach(o=>{this._store.state.roles.get(o)||e.push(o)}),alert("This session contains custom characters that can't be found. Please load them before joining! Missing roles: "+e.join(", ")),this.disconnect(),this._store.commit("toggleModal","edition")}}sendFabled(){if(this._isSpectator)return;const{fabled:e}=this._store.state.players;this._send("fabled",e.map(({id:e})=>e))}_updateFabled(e){this._isSpectator&&this._store.commit("players/setFabled",{fabled:e.map(e=>this._store.state.fabled.get(e))})}sendPlayer({player:e,property:o,value:t}){if(this._isSpectator||"reminders"===o)return;const s=this._store.state.players.players.indexOf(e);"role"===o?t.team&&"traveler"===t.team?(this._gamestate[s].roleId=t.id,this._send("player",{index:s,property:o,value:t.id})):this._gamestate[s].roleId&&(delete this._gamestate[s].roleId,this._send("player",{index:s,property:o,value:""})):this._send("player",{index:s,property:o,value:t})}_updatePlayer({index:e,property:o,value:t}){if(!this._isSpectator)return;const s=this._store.state.players.players[e];if(s)if("role"===o)if(t||"traveler"!==s.role.team){const e=this._store.state.roles.get(t);this._store.commit("players/update",{player:s,property:"role",value:e})}else this._store.commit("players/update",{player:s,property:"role",value:{}});else this._store.commit("players/update",{player:s,property:o,value:t})}_handlePing([e,o,t]=[]){const s=(new Date).getTime();for(let i in this._players)s-this._players[i]>2*this._pingInterval&&(delete this._players[i],delete this._pings[i]);if(this._store.state.players.players.forEach(e=>{this._isSpectator||!e.id||this._players[e.id]||this._store.commit("players/update",{player:e,property:"id",value:""})}),o){this._players[o]=s;const i=parseInt(t,10);if(i&&i>0&&i<3e4)if(this._isSpectator&&!e)this._store.commit("session/setPing",i);else if(!this._isSpectator){this._pings[o]=i;const e=Object.values(this._pings);this._store.commit("session/setPing",Math.round(e.reduce((e,o)=>e+o,0)/e.length))}}this._store.commit("session/setPlayerCount",Object.keys(this._players).length)}_handleBye(e){delete this._players[e],this._store.commit("session/setPlayerCount",Object.keys(this._players).length)}claimSeat(e){if(!this._isSpectator)return;const o=this._store.state.players.players;o.length>e&&(e<0||!o[e].id)&&this._send("claim",[e,this._store.state.session.playerId])}_updateSeat([e,o]){if(this._isSpectator)return;const t="id",s=this._store.state.players.players,i=s.findIndex(({id:e})=>e===o);if(i>=0&&i!==e&&this._store.commit("players/update",{player:s[i],property:t,value:""}),e>=0){const i=s[e];if(!i)return;this._store.commit("players/update",{player:i,property:t,value:o})}this._handlePing([!0,o,0])}distributeRoles(){if(this._isSpectator)return;const e={};this._store.state.players.players.forEach((o,t)=>{o.id&&o.role&&(e[o.id]=["player",{index:t,property:"role",value:o.role.id}])}),Object.keys(e).length&&this._send("direct",e)}nomination({nomination:e}={}){if(this._isSpectator)return;const o=this._store.state.players.players;(!e||o.length>e[0]&&o.length>e[1])&&(this.setVotingSpeed(this._store.state.session.votingSpeed),this._send("nomination",e))}setVoteInProgress(){this._isSpectator||this._send("isVoteInProgress",this._store.state.session.isVoteInProgress)}setIsNight(){this._isSpectator||this._send("isNight",this._store.state.grimoire.isNight)}setVotingSpeed(e){this._isSpectator||e&&this._send("votingSpeed",e)}clearVoteHistory(){this._isSpectator||this._send("clearVoteHistory")}vote([e]){const o=this._store.state.players.players[e];this._store.state.session.playerId!==o.id&&this._isSpectator||this._send("vote",[e,this._store.state.session.votes[e],!this._isSpectator])}_handleVote([e,o,t]){const{session:s,players:i}=this._store.state,a=i.players.length,r=(e-1+a-s.nomination[1])%a;(t||r>=s.lockedVote-1)&&this._store.commit("session/vote",[e,o])}lockVote(){if(this._isSpectator)return;const{lockedVote:e,votes:o,nomination:t}=this._store.state.session,{players:s}=this._store.state.players,i=(t[1]+e-1)%s.length;this._send("lock",[this._store.state.session.lockedVote,o[i]])}_handleLock([e,o]){if(this._isSpectator&&(this._store.commit("session/lockVote",e),e>1)){const{lockedVote:e,nomination:t}=this._store.state.session,{players:s}=this._store.state.players,i=(t[1]+e-1)%s.length;this._store.state.session.votes[i]!==o&&this._store.commit("session/vote",[i,o])}}swapPlayer(e){this._isSpectator||this._send("swap",e)}movePlayer(e){this._isSpectator||this._send("move",e)}}var No=e=>{const o=new yo(e);e.subscribe(({type:e,payload:t})=>{switch(e){case"session/setSessionId":t?o.connect(t):(window.location.hash="",o.disconnect());break;case"session/claimSeat":o.claimSeat(t);break;case"session/distributeRoles":t&&o.distributeRoles();break;case"session/nomination":o.nomination(t);break;case"session/setVoteInProgress":o.setVoteInProgress(t);break;case"session/voteSync":o.vote(t);break;case"session/lockVote":o.lockVote();break;case"session/setVotingSpeed":o.setVotingSpeed(t);break;case"session/clearVoteHistory":o.clearVoteHistory();break;case"toggleNight":o.setIsNight();break;case"setEdition":o.sendEdition();break;case"players/setFabled":o.sendFabled();break;case"players/swap":o.swapPlayer(t);break;case"players/move":o.movePlayer(t);break;case"players/set":case"players/clear":case"players/remove":case"players/add":o.sendGamestate(!0);break;case"players/update":o.sendPlayer(t);break}});const t=window.location.hash.substr(1);t&&(e.commit("session/setSpectator",!0),e.commit("session/setSessionId",t))};const _o={name:"",id:"",role:{},reminders:[],isVoteless:!1,isDead:!1},ko=()=>({players:[],fabled:[],bluffs:[]}),jo={alive({players:e}){return e.filter(e=>!e.isDead).length},nonTravelers({players:e}){const o=e.filter(e=>"traveler"!==e.role.team);return Math.min(o.length,15)},nightOrder({players:e,fabled:o}){const t=[0],s=[0];e.forEach(({role:e})=>{e.firstNight&&!t.includes(e.firstNight)&&t.push(e.firstNight),e.otherNight&&!s.includes(e.otherNight)&&s.push(e.otherNight)}),o.forEach(e=>{e.firstNight&&!t.includes(e.firstNight)&&t.push(e.firstNight),e.otherNight&&!s.includes(e.otherNight)&&s.push(e.otherNight)}),t.sort((e,o)=>e-o),s.sort((e,o)=>e-o);const i=new Map;return e.forEach(e=>{const o=Math.max(t.indexOf(e.role.firstNight),0),a=Math.max(s.indexOf(e.role.otherNight),0);i.set(e,{first:o,other:a})}),o.forEach(e=>{const o=Math.max(t.indexOf(e.firstNight),0),a=Math.max(s.indexOf(e.otherNight),0);i.set(e,{first:o,other:a})}),i}},So={randomize({state:e,commit:o}){const t=e.players.map(e=>[Math.random(),e]).sort((e,o)=>e[0]-o[0]).map(e=>e[1]);o("set",t)},clearRoles({state:e,commit:o,rootState:t}){let s;t.session.isSpectator?s=e.players.map(e=>("traveler"!==e.role.team&&(e.role={}),e.reminders=[],e)):(s=e.players.map(({name:e,id:o})=>({..._o,name:e,id:o})),o("setFabled",{fabled:[]})),o("set",s),o("setBluff")}},Ro={clear(e){e.players=[],e.bluffs=[],e.fabled=[]},set(e,o=[]){e.players=o},update(e,{player:o,property:t,value:s}){const i=e.players.indexOf(o);i>=0&&(e.players[i][t]=s)},add(e,o){e.players.push({..._o,name:o})},remove(e,o){e.players.splice(o,1)},swap(e,[o,t]){[e.players[o],e.players[t]]=[e.players[t],e.players[o]],e.players.splice(0,0)},move(e,[o,t]){e.players.splice(t,0,e.players.splice(o,1)[0])},setBluff(e,{index:o,role:t}={}){void 0!==o?e.bluffs.splice(o,1,t):e.bluffs=[]},setFabled(e,{index:o,fabled:t}={}){void 0!==o?e.fabled.splice(o,1):t&&(Array.isArray(t)?e.fabled=t:e.fabled.push(t))}};var wo={namespaced:!0,state:ko,getters:jo,actions:So,mutations:Ro};const xo=e=>(o,t)=>{o[e]=t},Oo=(e,[o,t])=>{e.nomination&&(e.votes=[...e.votes],e.votes[o]=void 0===t?!e.votes[o]:t)},Mo=()=>({sessionId:"",isSpectator:!1,isReconnecting:!1,playerCount:0,ping:0,playerId:"",claimedSeat:-1,nomination:!1,votes:[],lockedVote:0,votingSpeed:3e3,isVoteInProgress:!1,voteHistory:[],isRolesDistributed:!1}),Co={},Io={},qo={setPlayerId:xo("playerId"),setSpectator:xo("isSpectator"),setReconnecting:xo("isReconnecting"),setPlayerCount:xo("playerCount"),setPing:xo("ping"),setVotingSpeed:xo("votingSpeed"),setVoteInProgress:xo("isVoteInProgress"),claimSeat:xo("claimedSeat"),distributeRoles:xo("isRolesDistributed"),setSessionId(e,o){e.sessionId=o.toLocaleLowerCase().replace(/[^0-9a-z]/g,"").substr(0,10)},nomination(e,{nomination:o,votes:t,votingSpeed:s,lockedVote:i,isVoteInProgress:a}={}){e.nomination=o||!1,e.votes=t||[],e.votingSpeed=s||e.votingSpeed,e.lockedVote=i||0,e.isVoteInProgress=a||!1},addHistory(e,o){if(!e.nomination||e.lockedVote<=o.length)return;const t="traveler"===o[e.nomination[1]].role.team;console.log(t),e.voteHistory.push({nominator:o[e.nomination[0]].name,nominee:o[e.nomination[1]].name,type:t?"Banishment":"Execution",majority:Math.ceil(o.filter(e=>!e.isDead||t).length/2),votes:o.filter((o,t)=>e.votes[t]).map(({name:e})=>e)})},clearVoteHistory(e){e.voteHistory=[]},vote:Oo,voteSync:Oo,lockVote(e,o){e.lockedVote=void 0!==o?o:e.lockedVote+1}};var Po={namespaced:!0,state:Mo,getters:Co,actions:Io,mutations:qo},Vo=t("b1d9"),Eo=t("b249");s["a"].use(r["a"]);const To=new Map(ue.map(e=>[e.id,e])),Do=new Map(Vo.map(e=>[e.id,e])),$o=new Map(Eo.map(e=>[e.id,e])),Ao=(e=ue[0])=>new Map(Vo.filter(o=>o.edition===e.id||e.roles.includes(o.id)).sort((e,o)=>o.team.localeCompare(e.team)).map(e=>[e.id,e])),Bo="https://raw.githubusercontent.com/bra1n/townsquare/main/src/assets/icons/",zo={image:"",edition:"custom",firstNight:0,firstNightReminder:"",otherNight:0,otherNightReminder:"",reminders:[],remindersGlobal:[],setup:!1,team:"townsfolk",isCustom:!0};var Fo=new r["a"].Store({modules:{players:wo,session:Po},state:{grimoire:{isNight:!1,isNightOrder:!0,isPublic:!0,isMenuOpen:!1,isMuted:!1,zoom:0,background:""},modals:{edition:!1,fabled:!1,gameState:!1,nightOrder:!1,reference:!1,reminder:!1,role:!1,roles:!1,voteHistory:!1},edition:To.get("tb"),roles:Ao(),fabled:$o},getters:{customRoles:({roles:e})=>{const o=[];return e.forEach(e=>{if(e.isCustom){const t={};for(let o in e){const s=e[o];"image"===o&&s.toLocaleLowerCase().includes(Bo)||"isCustom"!==o&&s!==zo[o]&&(t[o]=s)}o.push(t)}else o.push({id:e.id})}),o},rolesJSONbyId:()=>Do},mutations:{toggleMenu({grimoire:e}){e.isMenuOpen=!e.isMenuOpen},toggleGrimoire({grimoire:e},o){e.isPublic=!0===o||!1===o?o:!e.isPublic,document.title="Blood on the Clocktower "+(e.isPublic?"Town Square":"Grimoire")},toggleNight({grimoire:e},o){e.isNight=!0===o||!1===o?o:!e.isNight},toggleNightOrder({grimoire:e}){e.isNightOrder=!e.isNightOrder},setZoom({grimoire:e},o){e.zoom=o},setBackground({grimoire:e},o){e.background=o},setIsMuted({grimoire:e},o){e.isMuted=o},toggleModal({modals:e},o){o&&(e[o]=!e[o]);for(let t in e)t!==o&&(e[t]=!1)},setCustomRoles(e,o){e.roles=new Map(o.map(o=>Do.get(o.id)||e.roles.get(o.id)||Object.assign({},zo,o)).map(e=>(Do.get(e.id)||("townsfolk"===e.team||"outsider"===e.team?e.image=e.image||Bo+"good.png":"demon"===e.team||"minion"===e.team?e.image=e.image||Bo+"evil.png":e.image=e.image||Bo+"custom.png"),e)).filter(e=>e.name&&e.ability&&e.team).sort((e,o)=>o.team.localeCompare(e.team)).map(e=>[e.id,e]))},setEdition(e,o){To.has(o.id)?(e.edition=To.get(o.id),e.roles=Ao(e.edition)):e.edition=o,e.modals.edition=!1}},plugins:[vo.a,No]}),Lo=t("ecee"),Uo=t("c074"),Go=t("f2d1"),Ho=t("ad3d");const Jo=["AddressCard","BookOpen","BroadcastTower","Chair","CheckSquare","CloudMoon","Cog","Copy","Dice","Dragon","ExchangeAlt","FileCode","FileUpload","HandPaper","HandPointRight","Heartbeat","Image","Link","MinusCircle","PeopleArrows","PlusCircle","Question","Random","RedoAlt","SearchMinus","SearchPlus","Square","Sun","TheaterMasks","Times","TimesCircle","TrashAlt","Undo","User","UserEdit","UserFriends","Users","VolumeUp","VolumeMute","VoteYea"],Wo=["Github","Discord"];Lo["c"].add(...Jo.map(e=>Uo["a"]["fa"+e]),...Wo.map(e=>Go["a"]["fa"+e])),s["a"].component("font-awesome-icon",Ho["a"]),s["a"].config.productionTip=!1,new s["a"]({render:e=>e(fo),store:Fo}).$mount("#app")},"590d":function(e,o,t){"use strict";t("6a0b")},"5bd9":function(e,o,t){e.exports=t.p+"img/cannibal.e2bfb541.png"},"5c0b":function(e,o,t){"use strict";t("9c0c")},"5c56":function(e,o,t){e.exports=t.p+"img/duchess.cfec75dc.png"},"5c76":function(e,o,t){},"5c8e":function(e,o,t){e.exports=t.p+"img/goblin.7ebbd9ad.png"},"5cf2":function(e,o,t){e.exports=t.p+"img/x.fbca4d75.png"},"5df1":function(e,o,t){"use strict";t("12fe")},"5f4e":function(e,o,t){e.exports=t.p+"img/tb-minion.b01c557e.png"},"61b0":function(e,o,t){var s={"./acrobat.png":"887b","./amnesiac.png":"043b","./angel.png":"bfe2","./apprentice.png":"4bea","./artist.png":"2cd0","./assassin.png":"9187","./balloonist.png":"65db","./barber.png":"fcc6","./barista.png":"027a","./baron.png":"24d3","./beggar.png":"cfcc","./bishop.png":"8030","./bonecollector.png":"23b1","./bountyhunter.png":"899d","./buddhist.png":"1d01","./bureaucrat.png":"25f6","./butcher.png":"37dd","./butler.png":"64fe","./cannibal.png":"5bd9","./cerenovus.png":"0436","./chambermaid.png":"125e","./chef.png":"1e83","./clockmaker.png":"f93f","./courtier.png":"ee02","./cultleader.png":"398f","./custom.png":"fd83","./deusexfiasco.png":"9002","./deviant.png":"3b65","./devilsadvocate.png":"cd8b","./djinn.png":"e222","./doomsayer.png":"659f","./dreamer.png":"71b8","./drunk.png":"d97d","./duchess.png":"5c56","./empath.png":"bb7a","./evil.png":"c24f","./eviltwin.png":"e014","./exorcist.png":"5072","./fanggu.png":"6ac0","./fibbin.png":"6eb1","./fiddler.png":"64be","./fisherman.png":"c5db","./flowergirl.png":"66ae","./fool.png":"4720","./fortuneteller.png":"43e8","./gambler.png":"dce6","./general.png":"ac9c","./goblin.png":"5c8e","./godfather.png":"99d0","./good.png":"667e","./goon.png":"55aa","./gossip.png":"cadc","./grandmother.png":"c9f5","./gunslinger.png":"ee92","./harlot.png":"559e","./hellslibrarian.png":"a367","./imp.png":"3e70","./innkeeper.png":"663c","./investigator.png":"b570","./judge.png":"f09b","./juggler.png":"65ab","./klutz.png":"adfc","./leviathan.png":"2b04","./librarian.png":"4d73","./lilmonsta.png":"c492","./lunatic.png":"0b61","./lycanthrope.png":"c316","./mastermind.png":"f834","./mathematician.png":"8888","./matron.png":"b1cb","./mayor.png":"b223","./minstrel.png":"4efd","./monk.png":"6741","./moonchild.png":"3f65","./mutant.png":"17ad","./nodashii.png":"68a4","./oracle.png":"0c12","./pacifist.png":"fff1","./philosopher.png":"3603","./pithag.png":"7f07","./plus.png":"160b","./po.png":"c73a","./poisoner.png":"f282","./politician.png":"07ab","./preacher.png":"2094","./professor.png":"b30c","./pukka.png":"a6a2","./ravenkeeper.png":"0c59","./recluse.png":"177d","./revolutionary.png":"aa2d","./sage.png":"30b6","./sailor.png":"223c","./saint.png":"6936","./savant.png":"d715","./scapegoat.png":"327a","./scarletwoman.png":"f322","./seamstress.png":"ac7c","./sentinel.png":"af68","./shabaloth.png":"0b29","./slayer.png":"d62b","./snakecharmer.png":"4021","./soldier.png":"4e76","./spiritofivory.png":"0d06","./spy.png":"ec1e","./stormcatcher.png":"a4c2","./sweetheart.png":"f1e5","./tealady.png":"ba9b","./thief.png":"9ce3","./tinker.png":"9f7e","./towncrier.png":"38a5","./toymaker.png":"39eb","./undertaker.png":"0e20","./vigormortis.png":"f4bd","./virgin.png":"eff4","./vortox.png":"3a43","./voudon.png":"a710","./washerwoman.png":"013f","./widow.png":"22c9","./witch.png":"f558","./x.png":"5cf2","./zombuul.png":"20ca"};function i(e){var o=a(e);return t(o)}function a(e){if(!t.o(s,e)){var o=new Error("Cannot find module '"+e+"'");throw o.code="MODULE_NOT_FOUND",o}return s[e]}i.keys=function(){return Object.keys(s)},i.resolve=a,e.exports=i,i.id="61b0"},"634a":function(e){e.exports=JSON.parse('[{"townsfolk":3,"outsider":0,"minion":1,"demon":1},{"townsfolk":3,"outsider":1,"minion":1,"demon":1},{"townsfolk":5,"outsider":0,"minion":1,"demon":1},{"townsfolk":5,"outsider":1,"minion":1,"demon":1},{"townsfolk":5,"outsider":2,"minion":1,"demon":1},{"townsfolk":7,"outsider":0,"minion":2,"demon":1},{"townsfolk":7,"outsider":1,"minion":2,"demon":1},{"townsfolk":7,"outsider":2,"minion":2,"demon":1},{"townsfolk":9,"outsider":0,"minion":3,"demon":1},{"townsfolk":9,"outsider":1,"minion":3,"demon":1},{"townsfolk":9,"outsider":2,"minion":3,"demon":1}]')},"64be":function(e,o,t){e.exports=t.p+"img/fiddler.8c3b1cc0.png"},"64fe":function(e,o,t){e.exports=t.p+"img/butler.3763fa3d.png"},"659f":function(e,o,t){e.exports=t.p+"img/doomsayer.34573e9a.png"},"65ab":function(e,o,t){e.exports=t.p+"img/juggler.7cc6d089.png"},"65db":function(e,o,t){e.exports=t.p+"img/balloonist.3d6e31f8.png"},"663c":function(e,o,t){e.exports=t.p+"img/innkeeper.8b0b87f1.png"},"667e":function(e,o,t){e.exports=t.p+"img/good.9b3436c8.png"},"66ae":function(e,o,t){e.exports=t.p+"img/flowergirl.4ee69cb5.png"},6741:function(e,o,t){e.exports=t.p+"img/monk.a6f2667a.png"},"67b8":function(e,o,t){"use strict";t("b14a")},"68a4":function(e,o,t){e.exports=t.p+"img/nodashii.5c943357.png"},6936:function(e,o,t){e.exports=t.p+"img/saint.f81db252.png"},"6a0b":function(e,o,t){},"6ac0":function(e,o,t){e.exports=t.p+"img/fanggu.cb4e346c.png"},"6b1e":function(e,o,t){},"6b5a":function(e,o,t){},"6eb1":function(e,o,t){e.exports=t.p+"img/fibbin.2c83b0c2.png"},"71b8":function(e,o,t){e.exports=t.p+"img/dreamer.ab7f2328.png"},"73a1":function(e,o,t){e.exports=t.p+"img/tb-outsider.9ae6ef1b.png"},7496:function(e,o,t){e.exports=t.p+"img/bmr.1d06ca78.png"},"74c9":function(e,o,t){"use strict";t("9fd8")},"7b9e":function(e,o,t){"use strict";t("bbf2")},"7bfc":function(e,o,t){"use strict";t("5654")},"7eb8":function(e,o,t){"use strict";t("a73c")},"7f07":function(e,o,t){e.exports=t.p+"img/pithag.adc1ce12.png"},8030:function(e,o,t){e.exports=t.p+"img/bishop.dec14fdc.png"},8781:function(e,o,t){"use strict";t("6b1e")},"887b":function(e,o,t){e.exports=t.p+"img/acrobat.b8ef8f5b.png"},8888:function(e,o,t){e.exports=t.p+"img/mathematician.31142ad1.png"},"899d":function(e,o,t){e.exports=t.p+"img/bountyhunter.cc6eb160.png"},9002:function(e,o,t){e.exports=t.p+"img/deusexfiasco.90479b40.png"},9187:function(e,o,t){e.exports=t.p+"img/assassin.db54a5ff.png"},9224:function(e){e.exports=JSON.parse('{"a":"2.3.0"}')},"92d8":function(e,o,t){e.exports=t.p+"img/luf.8e16a6e6.png"},9922:function(e,o,t){"use strict";t("5c76")},"99d0":function(e,o,t){e.exports=t.p+"img/godfather.2febcd81.png"},"9c0c":function(e,o,t){},"9ce3":function(e,o,t){e.exports=t.p+"img/thief.60ce8845.png"},"9f7e":function(e,o,t){e.exports=t.p+"img/tinker.669b5612.png"},"9fd8":function(e,o,t){},a367:function(e,o,t){e.exports=t.p+"img/hellslibrarian.ed49edab.png"},a3b0:function(e,o,t){e.exports=t.p+"img/tb-demon.0ac8cce6.png"},a4c2:function(e,o,t){e.exports=t.p+"img/stormcatcher.e0bdc1ee.png"},a6a2:function(e,o,t){e.exports=t.p+"img/pukka.cbbc2d26.png"},a710:function(e,o,t){e.exports=t.p+"img/voudon.2b1f0492.png"},a73c:function(e,o,t){},aa2d:function(e,o,t){e.exports=t.p+"img/revolutionary.ae2abbef.png"},ac7c:function(e,o,t){e.exports=t.p+"img/seamstress.05f0eb74.png"},ac9c:function(e,o,t){e.exports=t.p+"img/general.1d8bb5aa.png"},adfc:function(e,o,t){e.exports=t.p+"img/klutz.c7e784cd.png"},aec9:function(e,o,t){"use strict";t("4dc0")},af68:function(e,o,t){e.exports=t.p+"img/sentinel.1fecd38b.png"},b14a:function(e,o,t){},b1cb:function(e,o,t){e.exports=t.p+"img/matron.ffb17746.png"},b1d9:function(e){e.exports=JSON.parse('[{"id":"washerwoman","name":"Lavadeira","edition":"tb","team":"townsfolk","firstNight":19,"firstNightReminder":":eye: Informe um Personagem Cidadão e dois jogadores, um deles deve ser o personagem. :eye-slash:","otherNight":0,"otherNightReminder":"","reminders":["Cidadão","Falso"],"setup":false,"ability":"Você começa sabendo que 1 dentre 2 jogadores é um cidadão específico."},{"id":"librarian","name":"Bibliotecária","edition":"tb","team":"townsfolk","firstNight":20,"firstNightReminder":":eye: Informe um Personagem Forasteiro e dois jogadores, um deles deve ser o personagem. :eye-slash:","otherNight":0,"otherNightReminder":"","reminders":["Forasteiro","Falso"],"setup":false,"ability":"Você começa sabendo que 1 dentre 2 jogadores é um Forasteiro específico. (ou que não há forasteiros em jogo)"},{"id":"investigator","name":"Investigador","edition":"tb","team":"townsfolk","firstNight":21,"firstNightReminder":":eye: Informe um Personagem Lacaio e dois jogadores, um deles deve ser o personagem. :eye-slash:","otherNight":0,"otherNightReminder":"","reminders":["Lacaio","Falso"],"setup":false,"ability":"Você começa sabendo que 1 dentre 2 jogadores é um Lacaio específico."},{"id":"chef","name":"Chefe de Cozinha","edition":"tb","team":"townsfolk","firstNight":22,"firstNightReminder":":eye: Informe o valor (0, 1, 2, ...) do número de pares de jogadores maus vizinhos. :eye-slash:","otherNight":0,"otherNightReminder":"","reminders":[],"setup":false,"ability":"Você começa sabendo quantos pares de vizinhos há de jogadores do mal."},{"id":"empath","name":"Médium","edition":"tb","team":"townsfolk","firstNight":23,"firstNightReminder":":eye: Informe o valor (0, 1, 2, ...) do número de vizinhos vivos maus ao lado do Médium. :eye-slash:","otherNight":38,"otherNightReminder":":eye: Informe o valor (0, 1, 2, ...) do número de vizinhos vivos maus ao lado do Médium. :eye-slash:","reminders":[],"setup":false,"ability":"Toda Noite, você descobre quantos jogadores são do mal, dentre os seus 2 vizinhos vivos mais próximos."},{"id":"fortuneteller","name":"Vidente","edition":"tb","team":"townsfolk","firstNight":24,"firstNightReminder":":eye: Escolha uma pessoa para ser lida incorretamente, caso ainda não tenha escolhido. O Vidente escolhe dois jogadores. Responda com \'Sim\' ou \'não\' caso um desses jogadores é o Demônio. :eye-slash:","otherNight":44,"otherNightReminder":":eye: O Vidente escolhe dois jogadores. Responda com \'Sim\' ou \'não\' caso um desses jogadores é o Demônio. :eye-slash:","reminders":["Falso"],"setup":false,"ability":"Toda Noite, escolha 2 jogadores: Você descobre se o Demônio é um deles. No entanto, existe um jogador do bem que é sempre detectado incorretamente."},{"id":"undertaker","name":"Coveiro","edition":"tb","team":"townsfolk","firstNight":0,"firstNightReminder":"","otherNight":46,"otherNightReminder":":question-circle: Se um jogador foi executado hoje: :eye: Mostre o Token do Personagem desse jogador. :eye-slash:","reminders":["Executado"],"setup":false,"ability":"Toda Noite*, você descobre qual personagem foi morto por execução durante o Dia."},{"id":"monk","name":"Clérigo","edition":"tb","team":"townsfolk","firstNight":0,"firstNightReminder":"","otherNight":10,"otherNightReminder":"O Jogador protegido anteriormente não está mais protegido. :plus-circle: :eye: O Monge aponta para um jogador, não pode escolher ele mesmo. :eye-slash: Marque esse jogador com \'Protegido\'. :plus-circle:","reminders":["Protegido"],"setup":false,"ability":"Toda Noite*, escolha um jogador (exceto você): ele estará imune ao Demônio esta Noite."},{"id":"ravenkeeper","name":"Mestre dos Corvos","edition":"tb","team":"townsfolk","firstNight":0,"firstNightReminder":"","otherNight":41,"otherNightReminder":":question-circle: Se o Mestre dos Corvos morreu esta noite: :eye: O Mestre dos Corvos escolhe um jogador. Mostre o token de personagem desse jogador. :eye-slash:","reminders":[],"setup":false,"ability":"Se você morrer durante a Noite, acordará para escolher um jogador: Você descobre o personagem dele."},{"id":"virgin","name":"Virgem","edition":"tb","team":"townsfolk","firstNight":0,"firstNightReminder":"","otherNight":0,"otherNightReminder":"","reminders":["Usado"],"setup":false,"ability":"Apenas na primeira vez que você for nomeado, se o nomeador for um Cidadão, ele é executado imediatamente. (A Manhã é encerrada, como ocorre com qualquer execução)"},{"id":"slayer","name":"Atirador","edition":"tb","team":"townsfolk","firstNight":0,"firstNightReminder":"","otherNight":0,"otherNightReminder":"","reminders":["Usado"],"setup":false,"ability":"Apenas uma vez no jogo, durante a fase do Dia, você pode escolher publicamente um jogador: se ele for o Demônio, morrerá."},{"id":"soldier","name":"Soldado","edition":"tb","team":"townsfolk","firstNight":0,"firstNightReminder":"","otherNight":0,"otherNightReminder":"","reminders":[],"setup":false,"ability":"Você é imune ao Demônio."},{"id":"mayor","name":"Prefeito","edition":"tb","team":"townsfolk","firstNight":0,"firstNightReminder":"","otherNight":0,"otherNightReminder":"","reminders":[],"setup":false,"ability":"Se houver apenas 3 jogadores vivos e não houver execução, seu time vence. Durante a Noite, sua morte pode ser substituída pela morte de outro jogador."},{"id":"butler","name":"Mordomo","edition":"tb","team":"outsider","firstNight":25,"firstNightReminder":":eye: O Mordomo aponta para um jogador. :eye-slash: Marque esse jogador como \'Mestre\'. :plus-circle:","otherNight":45,"otherNightReminder":":eye: O Mordomo aponta para um jogador. :eye-slash: Marque esse jogador como \'Mestre\'. :plus-circle:","reminders":["Mestre"],"setup":false,"ability":"Toda Noite, escolha um jogador para ser seu Mestre: Durante uma votação, você não poderá levantar a mão se o seu Mestre não levantar. Se o Mestre abaixar a mão, você também deve abaixar."},{"id":"drunk","name":"Bêbado","edition":"tb","team":"outsider","firstNight":0,"firstNightReminder":"","otherNight":0,"otherNightReminder":"","reminders":[],"remindersGlobal":["Bêbado"],"setup":true,"ability":"Você não sabe que é o Bêbado. Em vez disso, você acredita ser um Cidadão mas sua habilidade é apenas uma ilusão."},{"id":"recluse","name":"Recluso","edition":"tb","team":"outsider","firstNight":0,"firstNightReminder":"","otherNight":0,"otherNightReminder":"","reminders":[],"setup":false,"ability":"Você pode ser lido por habilidades como se fosse do mal, Lacaio ou Demônio. (MESMO ESTANDO MORTO)"},{"id":"saint","name":"Santo","edition":"tb","team":"outsider","firstNight":0,"firstNightReminder":"","otherNight":0,"otherNightReminder":"","reminders":[],"setup":false,"ability":"Se você morrer por execução, seu time perde."},{"id":"poisoner","name":"Envenenador","edition":"tb","team":"minion","firstNight":9,"firstNightReminder":":eye: O Envenenador escolhe um jogador. :eye-slash: Esse jogador está envenenado. :plus-circle:","otherNight":5,"otherNightReminder":"O jogador envenenado anteriormente não está mais envenenado. :plus-circle: :eye: O Envenenador escolhe um jogador. :eye-slash: Esse jogador está envenenado. :plus-circle:","reminders":["Envenenado"],"setup":false,"ability":"Toda Noite, escolha um jogador: ele está envenenado até o próximo anoitecer."},{"id":"spy","name":"Espião","edition":"tb","team":"minion","firstNight":33,"firstNightReminder":":eye: Mostre o Grimório ao Espião pelo tempo que eles precisarem. :eye-slash:","otherNight":56,"otherNightReminder":":eye: Mostre o Grimório ao Espião pelo tempo que eles precisarem. :eye-slash:","reminders":[],"setup":false,"ability":"Toda Noite, você vê o Grimório (todas as informações ocultas). Você pode ser lido por habilidades como se fosse do Bem, Cidadão ou Forasteiro (MESMO ESTANDO MORTO)."},{"id":"scarletwoman","name":"Promíscua","edition":"tb","team":"minion","firstNight":0,"firstNightReminder":"","otherNight":15,"otherNightReminder":":question-circle: Se a Promíscua se tornasse o Demônio hoje: :eye: Informe-a que ela é o demônio. :eye-slash:","reminders":["Demônio"],"setup":false,"ability":"Se ainda houver 5 ou mais jogadores não-viajantes vivos e o Demônio morrer, seu personagem é substituído pelo do Demônio."},{"id":"baron","name":"Barão","edition":"tb","team":"minion","firstNight":0,"firstNightReminder":"","otherNight":0,"otherNightReminder":"","reminders":[],"setup":true,"ability":"Há 2 Forasteiros adicionais. [+2 Forasteiros]"},{"id":"imp","name":"Capeta","edition":"tb","team":"demon","firstNight":0,"firstNightReminder":"","otherNight":19,"otherNightReminder":":eye: O Capeta escolhe um jogador. :eye-slash: Esse jogador morre. :plus-circle: Se o Capeta se escolher: • Substitua o personagem de 1 lacaio vivo pelo Capeta. :plus-circle: • :eye: Acorde o novo Capeta. Informe-o que ele é o Capeta. :eye-slash:","reminders":["Morto"],"setup":false,"ability":"Toda Noite*, escolha um jogador: ele morre imediatamente. Se você se matar desta forma, um Lacaio vivo substituíra o personagem dele pelo seu."},{"id":"thief","name":"Ladão","edition":"tb","team":"traveler","firstNight":0,"firstNightReminder":"O Ladrão escolhe um jogador. Coloque o marcador de \'voto negativo\' do Ladrão ao lado do Token de personagem do jogador escolhido.","otherNight":0,"otherNightReminder":"O Ladrão escolhe um jogador. Coloque o marcador de \'voto negativo\' do Ladrão ao lado do Token de personagem do jogador escolhido.","reminders":["Voto Negativo"],"setup":false,"ability":"Cada noite, escolha um jogador (você não pode escolher): O voto do escolhido conta negativamente amanhã."},{"id":"bureaucrat","name":"Burocrata","edition":"tb","team":"traveler","firstNight":0,"firstNightReminder":"O Burocrata escolhe um jogador. Coloque o marcador \'Voto x3\' do Burocrata ao lado do token de personagem do jogador escolhido.","otherNight":0,"otherNightReminder":"O Burocrata escolhe um jogador. Coloque o marcador \'Voto x3\' do Burocrata ao lado do token de personagem do jogador escolhido.","reminders":["Voto x3"],"setup":false,"ability":"Cada noite, escolha um jogador (você não pode se escolher): O voto do escolhido conta como 3 votos amanhã."},{"id":"gunslinger","name":"Pistoleiro","edition":"tb","team":"traveler","firstNight":0,"firstNightReminder":"","otherNight":0,"otherNightReminder":"","reminders":[],"setup":false,"ability":"A cada dia, após a contagem da primeira votação, você pode escolher um jogador que votou: ele morre."},{"id":"scapegoat","name":"Bode expiatório","edition":"tb","team":"traveler","firstNight":0,"firstNightReminder":"","otherNight":0,"otherNightReminder":"","reminders":[],"setup":false,"ability":"Se um jogador do seu alinhamento for executado, você pode ser executado em seu lugar."},{"id":"beggar","name":"Mendigo","edition":"tb","team":"traveler","firstNight":0,"firstNightReminder":"","otherNight":0,"otherNightReminder":"","reminders":[],"setup":false,"ability":"Você deve usar um token de voto para votar. Jogadores mortos podem escolher dar a você os seus. Nesse caso, você aprende o alinhamento deles."},{"id":"grandmother","name":"Vovó","edition":"bmr","team":"townsfolk","firstNight":26,"firstNightReminder":"Informe a Vovó qual jogador é o seu Neto.","otherNight":39,"otherNightReminder":"Se o Neto da Vovó foi morto pelo Demônio esta noite: •  A Vovó morre.","reminders":["Neto"],"setup":false,"ability":"Na primeira Noite, você descobre o personagem de um jogador. Se o Demônio o matar, você também morre."},{"id":"sailor","name":"Marinheiro","edition":"bmr","team":"townsfolk","firstNight":5,"firstNightReminder":"O Marinheiro escolhe um jogador vivo. O Marinheiro ou o jogador escolhido está bêbado.","otherNight":2,"otherNightReminder":"O jogador anteriormente bêbado não está mais bêbado. O Marinheiro escolhe um jogador vivo. O Marinheiro ou o jogador escolhido está bêbado.","reminders":["Bêbado"],"setup":false,"ability":"Toda Noite, escolha um jogador: ele ou você fica bêbado até o próximo anoitecer. Você nunca morre."},{"id":"chambermaid","name":"Camareira","edition":"bmr","team":"townsfolk","firstNight":36,"firstNightReminder":"A Camareira escolhe dois jogadores. Informe o valor (0, 1, 2, ...) de quantos desses jogadores acordaram hoje à noite por sua habilidade.","otherNight":59,"otherNightReminder":"A Camareira escolhe dois jogadores. Informe o valor (0, 1, 2, ...) de quantos desses jogadores acordaram hoje à noite por sua habilidade.","reminders":[],"setup":false,"ability":"Toda Noite, escolha 2 jogadores vivos (exceto você): Você descobre quantos deles acordaram esta Noite por conta de suas habilidades."},{"id":"exorcist","name":"Exorcista","edition":"bmr","team":"townsfolk","firstNight":0,"firstNightReminder":"","otherNight":18,"otherNightReminder":"O Exorcista escolhe um jogador, diferente da noite anterior. Se esse jogador for o Demônio: • Acorde o Demônio. Informe-o quem é o exorcista. • O Demônio não age esta noite.","reminders":["Escolhido"],"setup":false,"ability":"Toda Noite*, escolha um jogador (exceto o mesmo da Noite anterior), se for o Demônio, ele não age esta Noite e descobre quem você é."},{"id":"innkeeper","name":"Estalajadeiro","edition":"bmr","team":"townsfolk","firstNight":0,"firstNightReminder":"","otherNight":6,"otherNightReminder":"Os jogadores previamente protegidos e bêbados perdem esses marcadores. O estalajadeiro aponta para dois jogadores. Esses jogadores estão protegidos. Um está bêbado.","reminders":["Protegido","Bêbado"],"setup":false,"ability":"Toda Noite*, escolha 2 jogadores: eles não morrem esta Noite; um deles fica bêbado até o próximo anoitecer."},{"id":"gambler","name":"Apostador","edition":"bmr","team":"townsfolk","firstNight":0,"firstNightReminder":"","otherNight":8,"otherNightReminder":"O Apostador escolhe um jogador e um personagem. Se incorreto, o jogador morre.","reminders":["Morto"],"setup":false,"ability":"Toda Noite*, escolha um jogador e tente adivinhar seu personagem. Se errar, você morre."},{"id":"gossip","name":"Fofoqueira","edition":"bmr","team":"townsfolk","firstNight":0,"firstNightReminder":"","otherNight":36,"otherNightReminder":"Se a afirmação pública da fofoqueira for verdadeira: • Escolha um jogador que não esteja protegido contra a morte esta noite. Aquele jogador morre.","reminders":["Morto"],"setup":false,"ability":"Todo dia, você pode fazer UMA afirmação publicamente: Se for verdade, alguém morrerá durante a Noite."},{"id":"courtier","name":"Cortesão","edition":"bmr","team":"townsfolk","firstNight":11,"firstNightReminder":"O Cortesão pode recusar usar a sua habilidade ou escolher um personagem. Caso o cortesão use sua habilidade: Se esse personagem está em jogo, esse jogador está bêbado.","otherNight":7,"otherNightReminder":"Reduza o número restante de dias em que o jogador escolhido está bêbado. Se o Courier ainda não usou sua habilidade: • O Cortesão pode recusar usar a sua habilidade ou escolher um personagem. Caso o cortesão use sua habilidade: Se esse personagem está em jogo, esse jogador está bêbado. Caso o Cortesão fique bêbado/envenenado enquanto sua habilidade estiver ativa, o personagem escolhido anteriormente fica temporariamente sóbrio e o contador de dias é reduzido.","reminders":["Bêbado 3","Bêbado 2","Bêbado 1","Usado"],"setup":false,"ability":"Uma vez por jogo, durante a Noite, você pode escolher um personagem: se estiver em jogo, ele fica bêbado por 3 Noites e 3 Dias."},{"id":"professor","name":"Cientista","edition":"bmr","team":"townsfolk","firstNight":0,"firstNightReminder":"","otherNight":35,"otherNightReminder":"Se o professor não usou sua habilidade: • O Professor pode recusar usar sua habilidade ou escolher um jogador morto. • Se esse jogador for um cidadão, ele agora está vivo.","reminders":["Vivo","Usado"],"setup":false,"ability":"Uma vez por jogo, durante a Noite*, você pode escolher um jogador morto: se for um Cidadão, ressuscita imediatamente."},{"id":"minstrel","name":"Bardo","edition":"bmr","team":"townsfolk","firstNight":0,"firstNightReminder":"","otherNight":0,"otherNightReminder":"Remova o marcador “Todos bêbados”. Se um Lacaio morreu hoje: Todos os jogadores, exceto o Bardo, estão bêbados. Coloque o marcador “Todos bêbados”.","reminders":["Todos Bêbados"],"setup":false,"ability":"Se um Lacaio morrer durante o Dia, todos os outros jogadores ficam bêbados nesta Noite até o próximo anoitecer."},{"id":"tealady","name":"Moça do Chá","edition":"bmr","team":"townsfolk","firstNight":0,"firstNightReminder":"","otherNight":0,"otherNightReminder":"","reminders":["Protegido"],"setup":false,"ability":"Se ambos os seus vizinhos vivos forem do Bem, não poderão morrer."},{"id":"pacifist","name":"Pacifista","edition":"bmr","team":"townsfolk","firstNight":0,"firstNightReminder":"","otherNight":0,"otherNightReminder":"","reminders":[],"setup":false,"ability":"Jogadores do Bem podem não morrer quando executados."},{"id":"fool","name":"Bobo","edition":"bmr","team":"townsfolk","firstNight":0,"firstNightReminder":"","otherNight":0,"otherNightReminder":"","reminders":["Usado"],"setup":false,"ability":"A sua primeira morte é anulada."},{"id":"tinker","name":"Mecânico","edition":"bmr","team":"outsider","firstNight":0,"firstNightReminder":"","otherNight":37,"otherNightReminder":"O mecânico pode morrer.","reminders":["Morto"],"setup":false,"ability":"Você pode morrer a qualquer momento"},{"id":"moonchild","name":"Filha da Noite","edition":"bmr","team":"outsider","firstNight":0,"firstNightReminder":"","otherNight":38,"otherNightReminder":"Se a Filha da Noite usou sua habilidade para atingir um jogador hoje: • Se aquele jogador for do bem, ele morre.","reminders":["Morto"],"setup":false,"ability":"Quando você for avisado que morreu, escolha um jogador (em segredo ou publicamente): se ele for do bem, morrerá esta Noite."},{"id":"goon","name":"Capanga","edition":"bmr","team":"outsider","firstNight":0,"firstNightReminder":"Se um jogador usou sua habilidade de personagem para escolher o Capanga: • O Capanga se torna do mesmo alinhamneto (bem/mal) desse jogador. • Informe ao Capanga o seu alinhamneto atual.","otherNight":0,"otherNightReminder":"Se um jogador usou sua habilidade de personagem para escolher o Capanga: • O Capanga se torna do mesmo alinhamneto (bem/mal) desse jogador. • Informe ao Capanga o seu alinhamneto atual.","reminders":["Bêbado"],"setup":false,"ability":"Toda Noite, o primeiro jogador a escolher você com uma habilidade, fica bêbado até o próximo anoitecer. Você se junta ao time dele (bem/mal)."},{"id":"lunatic","name":"Lunatico","edition":"bmr","team":"outsider","firstNight":3,"firstNightReminder":"Se houver 7 ou mais jogadores: Informe ao Lunático os seus \'Lacaios\'. Mostrar 3 Blefes de Personagens bons arbitrários. Se o Personagem recebido pelo Lunático for um Demônio que acordaria na primeira noite: • Permita que o Lunático faça as ações do Demônio. Coloque seus marcadores de \'ataque\'. Acorde o demônio. Informe-o que ele é o demônio e o jogador que é o lunático. • Se o Lunatico atacou hoje: Informe ao demônio real os alvos do Lunático. Remova os marcadores de “ataque” do Lunatico.","otherNight":17,"otherNightReminder":"Permita que o Lunático faça as ações do Demônio. Coloque seus marcadores de \'ataque\'. Se o Lunatico selecionou jogadores: Desperte o Demônio. Informe ao demônio real os alvos do Lunático. Remova os marcadores de “ataque” do Lunatico.","reminders":["Ataque 1","Ataque 2","Ataque 3"],"setup":false,"ability":"Você acredita ser o Demônio, mas sua habilidade não funciona. O Demônio sabe quem você é e quem você ataca."},{"id":"godfather","name":"Chefe da Máfia","edition":"bmr","team":"minion","firstNight":13,"firstNightReminder":"Informe ao Chefe da Máfia os personagens Forasteiros que estão em jogo.","otherNight":31,"otherNightReminder":"Se um Forasteiro morreu hoje: •  O Chefe da Máfia escolhe um jogador. Esse jogador morre.","reminders":["Morreu Hoje","Morto"],"setup":true,"ability":"Você sabe quais Forasteiros estão em jogo. Se um deles morrer durante o Dia, você escolhe um jogador para matar esta Noite. [-1 ou +1 Forasteiro]"},{"id":"devilsadvocate","name":"Advogado do Diabo","edition":"bmr","team":"minion","firstNight":14,"firstNightReminder":"O Advogado do Diabo aponta para um jogador vivo. Esse jogador sobrevive a execução amanhã.","otherNight":11,"otherNightReminder":"O Advogado do Diabo aponta para um jogador vivo, diferente do escolhido na noite anterior. Esse jogador sobrevive a execução amanhã","reminders":["Sobrevive a execução"],"setup":false,"ability":"Toda Noite, escolha um jogador (exceto o da Noite anterior): durante o Dia, ele não morrerá se for executado."},{"id":"assassin","name":"Assassino","edition":"bmr","team":"minion","firstNight":0,"firstNightReminder":"","otherNight":30,"otherNightReminder":"Se o Assassino ainda não usou sua habilidade: • O Assassino pode recusar usar a habilidade ou aponta para um jogador. Aquele jogador morre mesmo que ele não possa.","reminders":["Morto","Usado"],"setup":false,"ability":"Uma vez por jogo, durante a Noite*, escolha um jogador: ele morre mesmo que não possa."},{"id":"mastermind","name":"Mentor","edition":"bmr","team":"minion","firstNight":0,"firstNightReminder":"","otherNight":0,"otherNightReminder":"","reminders":[],"setup":false,"ability":"Se o Demônio morrer por execução, o jogo continua por mais 1 dia. No dia seguinte, se um jogador for executado o time dele perde."},{"id":"zombuul","name":"Zombuul","edition":"bmr","team":"demon","firstNight":0,"firstNightReminder":"","otherNight":20,"otherNightReminder":"Se ninguém morreu durante o dia: • O Zombuul escolhe um jogador. Aquele jogador morre.","reminders":["Morreu hoje","Morto"],"setup":false,"ability":"Toda Noite*, se ninguém morreu durante o Dia, escolha um jogador: ele morre. Na primeira vez que você morre, permanece vivo em segredo."},{"id":"pukka","name":"Pukka","edition":"bmr","team":"demon","firstNight":18,"firstNightReminder":"A pukka escolhe um jogador, Esse jogador está envenenado e morrerá na próxima noite logo antes da Pukka Acordar.","otherNight":21,"otherNightReminder":"Jogadores Envenenados morrem, mesmo que a Pukka esteja atualmente envenenada/bêbada. Pukka Escolhe um jogador, esse jogador está envenenado e morrerá na próxima noite logo antes da Pukka Acordar.","reminders":["Envenenado","Morto"],"setup":false,"ability":"Toda Noite, escolha um jogador: ele é envenenado até a próxima Noite, então morre. "},{"id":"shabaloth","name":"Shabaloth","edition":"bmr","team":"demon","firstNight":0,"firstNightReminder":"","otherNight":23,"otherNightReminder":"Um jogador que o Shabaloth escolheu na noite anterior pode ganhar vida. O Shabaloth escolhe dois jogadores. Esses jogadores morrem, na ordem que foram escolhidos.","reminders":["Morto","Vivo"],"setup":false,"ability":"Toda Noite*, escolha dois jogadores: eles morrem na ordem que você escolheu. Um jogador escolhido na Noite anterior pode ser ressuscitado."},{"id":"po","name":"Po","edition":"bmr","team":"demon","firstNight":0,"firstNightReminder":"","otherNight":24,"otherNightReminder":"Se o Po não escolheu ninguém na noite anterior: O Po escolhe três jogadores. Caso contrário: O Po pode recusar usar sua habilidade ou escolher um jogador. Os jogadores escolhidos (se houver) morrem na ordem escolhida.","reminders":["Morto","3 Ataques"],"setup":false,"ability":"Toda Noite*, se quiser, escolha um jogador: ele morre. Se, por qualquer motivo, você não escolheu na Noite passada, escolha 3 jogadores: eles morrem na ordem que você escolheu."},{"id":"apprentice","name":"Aprendiz","edition":"bmr","team":"traveler","firstNight":0,"firstNightReminder":"Informe ao Aprendiz qual personagem ele copiou a habilidade de Cidadão ou Lacaio. No Grimório, substitua a ficha de Aprendiz por aquela ficha de personagem e coloque o marcador de \'Habilidade de Aprendiz\' do Aprendiz.","otherNight":0,"otherNightReminder":"","reminders":["Habilidade de aprendiz"],"setup":false,"ability":"Em sua 1ª noite, você ganha uma habilidade de Cidadão (se for bom), ou uma habilidade de Lacaio (se for mal)."},{"id":"matron","name":"Matrona","edition":"bmr","team":"traveler","firstNight":0,"firstNightReminder":"","otherNight":0,"otherNightReminder":"","reminders":[],"setup":false,"ability":"A cada dia, você pode escolher até 3 pares de jogadores para trocar de lugar. Os jogadores não podem deixar seus lugares para conversar em particular."},{"id":"judge","name":"Juiz","edition":"bmr","team":"traveler","firstNight":0,"firstNightReminder":"","otherNight":0,"otherNightReminder":"","reminders":["Usado"],"setup":false,"ability":"Uma vez por jogo, se outro jogador for nomeado, você pode escolher forçar a execução atual para passar ou falhar."},{"id":"bishop","name":"Bispo","edition":"bmr","team":"traveler","firstNight":0,"firstNightReminder":"","otherNight":0,"otherNightReminder":"","reminders":["Nomeado Bom","Nomeado Mal"],"setup":false,"ability":"Apenas o Narrador pode indicar. Pelo menos 1 jogador de cada alinhamento deve ser nomeado a cada dia."},{"id":"voudon","name":"Voudon","edition":"bmr","team":"traveler","firstNight":0,"firstNightReminder":"","otherNight":0,"otherNightReminder":"","reminders":[],"setup":false,"ability":"Só você e os mortos podem votar. Eles não precisam de um token de voto para fazer isso. Regra da maioria (mais de 50% dos votos a favor) não é necessária."},{"id":"clockmaker","name":"Relojoeiro","edition":"snv","team":"townsfolk","firstNight":27,"firstNightReminder":"Informe ao Relojoeiro o valor (1, 2, 3, etc.) da distancia entre os assentos do Demônio ao Lacaio mais próximo.","otherNight":0,"otherNightReminder":"","reminders":[],"setup":false,"ability":"Na primeira Noite, você descobre a distância entre o Demônio e seu Lacaio mais próximo."},{"id":"dreamer","name":"Sonhador","edition":"snv","team":"townsfolk","firstNight":28,"firstNightReminder":"O Sonhador escolhe um jogador. Informe-o de dois personagens um do Bem e outro do Mal, o jogador escolhido deve ser um desses personagens.","otherNight":47,"otherNightReminder":"O Sonhador escolhe um jogador. Informe-o de dois personagens um do Bem e outro do Mal, o jogador escolhido deve ser um desses personagens.","reminders":[],"setup":false,"ability":"Toda Noite, escolha um jogador (exceto você): você descobre que ele é um dentre dois personagens de times opostos. (bem/mal)"},{"id":"snakecharmer","name":"Encantador de Serpentes","edition":"snv","team":"townsfolk","firstNight":12,"firstNightReminder":"O Encantador de Serpentes escolhe um jogador. Se esse jogador for o Demônio: Troque as fichas de personagem Encantador de Serpentes e Demônio. Desperte o novo Demônio. Informe-o que ele é o novo Dêmonio e seu alinhamento como do mal. O novo Encantador de Serpentes está envenenado. Acorde o novo Encantador de Serpentes. Informe-o que ele agora é o Encantador de Serpentes e seu alinhamento como do bem.","otherNight":9,"otherNightReminder":"O Encantador de Serpentes escolhe um jogador. Se esse jogador for o Demônio: Troque as fichas de personagem Encantador de Serpentes e Demônio. Desperte o novo Demônio. Informe-o que ele é o novo Dêmonio e seu alinhamento como do mal. O novo Encantador de Serpentes está envenenado. Acorde o novo Encantador de Serpentes. Informe-o que ele agora é o Encantador de Serpentes e seu alinhamento como do bem.","reminders":["Envenenado"],"setup":false,"ability":"Toda Noite, escolha um jogador vivo: se escolher um Demônio, ele troca de personagem e time com você, depois fica envenenado."},{"id":"mathematician","name":"Matemático","edition":"snv","team":"townsfolk","firstNight":35,"firstNightReminder":"Informe ao Matemático o valor (0, 1, 2, etc.) dos marcadores de \'Efeito anormal\'. Remova os marcadores","otherNight":58,"otherNightReminder":"Informe ao Matemático o valor (0, 1, 2, etc.) dos marcadores de \'Efeito anormal\'. Remova os marcadores.","reminders":["Efeito Anormal"],"setup":false,"ability":"Toda Noite, você descobre quantas habilidades, desde o amanhecer, não tiveram o efeito esperado devido a habilidades de outros personagens."},{"id":"flowergirl","name":"Florista","edition":"snv","team":"townsfolk","firstNight":0,"firstNightReminder":"Coloque o marcador “Demônio não votou”.","otherNight":48,"otherNightReminder":"Informe a Florista se o Dêmonio votou hoje.","reminders":["Demônio votou","Demônio não votou"],"setup":false,"ability":"Toda Noite*, você descobre se o Demônio votou durante o Dia."},{"id":"towncrier","name":"Mensageiro","edition":"snv","team":"townsfolk","firstNight":0,"firstNightReminder":"Coloque o marcador \'Lacaio não nomeou\'.","otherNight":49,"otherNightReminder":"Informe ao Mensageiro se o Lacaio nomeou hoje.","reminders":["Lacaio não nomeou","Lacaio Nomeou"],"setup":false,"ability":"Toda Noite*, você descobre se algum Lacaio nomeou hoje."},{"id":"oracle","name":"Oraculo","edition":"snv","team":"townsfolk","firstNight":0,"firstNightReminder":"","otherNight":50,"otherNightReminder":"Informe ao Oraculo o valor (0, 1, 2, etc.) de jogadores maus mortos.","reminders":[],"setup":false,"ability":"Toda Noite*, você descobre quantos jogadores do Mal estão mortos."},{"id":"savant","name":"Erudito","edition":"snv","team":"townsfolk","firstNight":0,"firstNightReminder":"","otherNight":0,"otherNightReminder":"","reminders":[],"setup":false,"ability":"Todo Dia, você pode visitar o Storyteller para ouvir duas informações: uma verdadeira e uma falsa."},{"id":"seamstress","name":"Costureira","edition":"snv","team":"townsfolk","firstNight":29,"firstNightReminder":"A Costureira pode recusar usar sua habilidade ou escolher dois outros jogadores. Se a costureira escolheu dois jogadores, informe-a se  eles são do mesmo alinhamento (bem/mal).","otherNight":51,"otherNightReminder":"Se a Costureira ainda não usou sua habilidade: A Costureira pode recusar usar sua habilidade ou escolher dois outros jogadores. Se a costureira escolheu dois jogadores, informe-a se  eles são do mesmo alinhamento (bem/mal).","reminders":["Usado"],"setup":false,"ability":"Uma vez por jogo, durante a Noite, você pode escolher 2 jogadores(exceto você): você descobre se eles são do mesmo time."},{"id":"philosopher","name":"Filósofo","edition":"snv","team":"townsfolk","firstNight":1,"firstNightReminder":"O Filósofo pode recusar usar sua habilidade ou escolher um personagem do bem. Se ele escolher um personagem: O Filósofo ganha a habilidade do personagem escolhido. E se o personagem está em jogo, esse jogador está bêbado até que o Filósofo morra.","otherNight":1,"otherNightReminder":"Se o Filósofo ainda não usou sua habilidade: O Filósofo pode recusar usar sua habilidade ou escolher um personagem do bem. Se ele escolher um personagem: O Filósofo ganha a habilidade do personagem escolhido. E se o personagem está em jogo, esse jogador está bêbado até que o Filósofo morra.","reminders":["Bêbado","Não é o Filósofo"],"setup":false,"ability":"Uma vez por jogo, durante a Noite, você pode escolher um personagem do bem: você ganha a habilidade dele. Se alguém já é for esse personagem, fica bêbado até você morrer."},{"id":"artist","name":"Artista","edition":"snv","team":"townsfolk","firstNight":0,"firstNightReminder":"","otherNight":0,"otherNightReminder":"","reminders":["Usado"],"setup":false,"ability":"Uma vez por jogo, durante o Dia, você pode fazer uma pergunta de sim ou não para o Storyteller. (Em segredo)"},{"id":"juggler","name":"Malabarista","edition":"snv","team":"townsfolk","firstNight":0,"firstNightReminder":"","otherNight":52,"otherNightReminder":"Se hoje foi o primeiro dia do malabarista: • Informe-o o número (0, 1, 2, etc.) de advinhações corretas.","reminders":["Correto"],"setup":false,"ability":"No primeiro dia, você pode tentar adivinhar publicamente os personagens de até 5 jogadores. Durante a Noite, você descobre quantos você acertou."},{"id":"sage","name":"Sábio","team":"townsfolk","edition":"snv","firstNight":0,"firstNightReminder":"","otherNight":34,"otherNightReminder":"Se o Sábio foi morto por um Demônio: Informe ao Sábio dois jogadores, um dos quais é o Demônio.","reminders":[],"setup":false,"ability":"Se você for morto pelo Demônio, você descobre que ele é 1 dentre 2 jogadores."},{"id":"mutant","name":"Mutante","edition":"snv","team":"outsider","firstNight":0,"firstNightReminder":"","otherNight":0,"otherNightReminder":"","reminders":[],"setup":false,"ability":"Se você insinuar que é um Forasteiro, você pode ser executado imediatamente. Se você estiver alucinado que é um Forasteiro, você pode ser executado."},{"id":"sweetheart","name":"Queridinha","edition":"snv","team":"outsider","firstNight":0,"firstNightReminder":"","otherNight":33,"otherNightReminder":"","reminders":["Bêbado"],"setup":false,"ability":"Se você morrer, um jogador fica bêbado."},{"id":"barber","name":"Barbeiro","edition":"snv","team":"outsider","firstNight":0,"firstNightReminder":"","otherNight":32,"otherNightReminder":"Se o barbeiro morreu hoje: • Desperte o demônio. Informe-o que o Barista morreu este dia. O Demônio pode recusar usar a habilidade do Barista ou escolher 2 jogadores que não são Demônios. Se ele escolher jogadores: ◦ Troque as fichas de personagem. Acorde cada jogador. Informe-os quais são seus novos personagens.","reminders":["Troca"],"setup":false,"ability":"Se você morrer, esta Noite o Demônio pode escolher dois jogadores: eles trocam de personagens entre si."},{"id":"klutz","name":"Desastrado","edition":"snv","team":"outsider","firstNight":0,"firstNightReminder":"","otherNight":0,"otherNightReminder":"","reminders":[],"setup":false,"ability":"Quando sua morte for declarada, escolha publicamente um jogador vivo do Bem, ou seu time perde."},{"id":"eviltwin","name":"Gêmea Má","edition":"snv","team":"minion","firstNight":15,"firstNightReminder":"Acorde a gêmea má e informe-a quem é sua gêmea boa e sua habilidade. Acorde a Gemêa Boa e informe-a quem é a sua Gêmea Má.","otherNight":0,"otherNightReminder":"","reminders":["Gêmea"],"setup":false,"ability":"Você e um oponente sabem o personagem um do outro. Se o jogador do bem for executado, o Mal vence. O bem não pode vencer enquanto ambos viverem."},{"id":"witch","name":"Bruxa","edition":"snv","team":"minion","firstNight":16,"firstNightReminder":"A Bruxa escolhe um jogador. Esse jogador esta amaldiçoado no próximo dia.","otherNight":12,"otherNightReminder":"A Bruxa escolhe um jogador. Esse jogador esta amaldiçoado no próximo dia.","reminders":["Amaldiçoado"],"setup":false,"ability":"Toda Noite, escolha um jogador: se ele nomear durante o próximo Dia, morre. Se apenas 3 jogadores estiverem vivos, você perde esta habilidade."},{"id":"cerenovus","name":"Cerenovus","edition":"snv","team":"minion","firstNight":17,"firstNightReminder":"O Cerenovus escolhe um jogador e, em seguida, para um personagem do Bem ou Goblin se estiver em jogo. Esse jogador deve “alucinar” ser esse personagem. Acorde aquele jogador. Informe-o que o Cerenovus o escolheu. Informe-o que ele deve \'alucinar\' ser o personagem escolhido.","otherNight":13,"otherNightReminder":"O Cerenovus escolhe um jogador e, em seguida, para um personagem do Bem ou Goblin se estiver em jogo. Esse jogador deve “alucinar” ser esse personagem. Acorde aquele jogador. Informe-o que o Cerenovus o escolheu. Informe-o que ele deve \'alucinar\' ser o personagem escolhido.","reminders":["Louco"],"setup":false,"ability":"Toda Noite, escolha um personagem do Bem e um Jogador: o jogador deve ficar alucinado que é esse personagem durante o próximo Dia; do contrário, pode ser executado imediatamente."},{"id":"pithag","name":"Velha do Fosso","edition":"snv","team":"minion","firstNight":0,"firstNightReminder":"","otherNight":14,"otherNightReminder":"","reminders":[],"setup":false,"ability":"Toda Noite*, escolha um jogador para se tornar um novo personagem (não funciona se já estiver em jogo). Se o personagem escolhido for um Demônio, as mortes serão arbitrárias esta Noite."},{"id":"fanggu","name":"Fang Gu","edition":"snv","team":"demon","firstNight":0,"firstNightReminder":"","otherNight":25,"otherNightReminder":"O Fang Gu escolhe um jogador. Esse jogador morre. Ou, se esse jogador for o Primeiro Forasteiro escolhido pelo Fang Gu no Jogo: • O Fang Gu morre em vez do jogador escolhido. O jogador escolhido agora é um mal Fang Gu. • Desperte o novo Fang Gu. Informe-o que ele é o Fang Gu do Mal.","reminders":["Morto"],"setup":true,"ability":"Toda Noite*, você escolhe um jogador: ele morre imediatamente. O primeiro Forasteiro escolhido torna-se um Fang Gu do Mal e você morre no lugar dele. [+1 Forasteiro]"},{"id":"vigormortis","name":"Vigormortis","edition":"snv","team":"demon","firstNight":0,"firstNightReminder":"","otherNight":28,"otherNightReminder":"O Vigormortis escolhe um jogador. O jogador morre. Se um Lacaio, ele mantêm sua habilidade e um de seus vizinhos de Cidadão é envenenado.","reminders":["Morto","Envenenado","Habilidade Ativa"],"setup":true,"ability":"Toda Noite*, você escolhe um jogador: ele morre imediatamente. Lacaios que você mata mantêm suas habilidades e envenenam um vizinho cidadão. [-1 Forasteiro]."},{"id":"nodashii","name":"No Dashii","edition":"snv","team":"demon","firstNight":0,"firstNightReminder":"","otherNight":26,"otherNightReminder":"O No Dashii escolhe um jogador. O jogador morre.","reminders":["Morto","Envenenado"],"setup":false,"ability":"Toda Noite*, você escolhe um jogador: ele morre imediatamente. Seus dois vizinhos Cidadãos estão envenenados."},{"id":"vortox","name":"Vortox","edition":"snv","team":"demon","firstNight":0,"firstNightReminder":"","otherNight":27,"otherNightReminder":"O Vortox escolhe um jogador. O jogador morre.","reminders":["Morto"],"setup":false,"ability":"Toda Noite*, você escolhe um jogador: ele morre imediatamente. Habilidades do Bem geram informações falsas. Todo Dia, se ninguém for executado, o Mal vence."},{"id":"barista","name":"Barista","edition":"snv","team":"traveler","firstNight":0,"firstNightReminder":"Todas as noites, coloque o lembrete \'Sóbrio e saudável\' do Barista ou seu lembrete \'Atua duas vezes\' ao lado de qualquer Token de Personagem. Acorde o jogador desse personagem e informe-o que o Barista o escolheu e se ele esta \'sóbrio e saudável\' ou se ele pode agir duas vezes.","otherNight":0,"otherNightReminder":"Todas as noites, coloque o lembrete \'Sóbrio e saudável\' do Barista ou seu lembrete \'Atua duas vezes\' ao lado de qualquer Token de Personagem. Acorde o jogador desse personagem e informe-o que o Barista o escolheu e se ele esta \'sóbrio e saudável\' ou se ele pode agir duas vezes.","reminders":["Atua duas vezes","Sóbrio e Saudável"],"setup":false,"ability":"Cada noite, até o anoitecer, 1- um jogador fica sóbrio, saudável e obtém informações verdadeiras, ou 2- sua habilidade funciona duas vezes. Eles aprendem qual."},{"id":"harlot","name":"Meretriz","edition":"snv","team":"traveler","firstNight":0,"firstNightReminder":"","otherNight":0,"otherNightReminder":"A Meretriz escolher um jogador. Então, coloque a Meretriz para dormir. Acorde o jogador escolhido, informe-o que a meretriz o escolheu. Se ele concordar em se deitar com a Meretriz, acorde a Meretriz e mostre a ficha de personagem do jogador escolhido. Então, você pode decidir que ninguém morra ou ambos os jogadores morram.","reminders":["Morto"],"setup":false,"ability":"Cada noite *, escolha um jogador vivo: se eles concordarem, você aprende o personagem deles, mas os dois podem morrer."},{"id":"butcher","name":"Açougueiro","edition":"snv","team":"traveler","firstNight":0,"firstNightReminder":"","otherNight":0,"otherNightReminder":"","reminders":[],"setup":false,"ability":"A cada dia, após a 1ª execução, você nomeia novamente."},{"id":"bonecollector","name":"Coletor de Osso","edition":"snv","team":"traveler","firstNight":0,"firstNightReminder":"","otherNight":0,"otherNightReminder":"O Coletor de Ossos pode recusar usar a habilidade ou escolhe qualquer jogador morto. Se ele escolher algum jogador morto, coloque o lembrete \'Tem Habilidade\' do Colecionador de Ossos ao lado da ficha de personagem do jogador escolhido. (Eles podem precisar ser acordados esta noite para usá-lo.)","reminders":["Usado","Habilidade Ativa"],"setup":false,"ability":"Uma vez por jogo, à noite, escolha um jogador morto: ele recupera suas habilidades até o anoitecer."},{"id":"deviant","name":"Divergente","edition":"snv","team":"traveler","firstNight":0,"firstNightReminder":"","otherNight":0,"otherNightReminder":"","reminders":[],"setup":false,"ability":"Se você foi engraçado hoje, você não pode ser exilado."},{"id":"bountyhunter","name":"Caçador de Recompensas","edition":"","team":"townsfolk","firstNight":31,"firstNightReminder":"Informe ao Caçador de Recompensas um jogador que é mau.","otherNight":54,"otherNightReminder":"Se o jogador do mal conhecido pelo Caçador de Recompensas morreu desde a noite anterior: Informe-o um jogador que é mau.","reminders":["Known"],"setup":true,"ability":"Você começa o jogo sabendo quem é 1 jogador do mal. Se esse jogador do mal morrer, você descobre outro nesta noite. [1 Cidadão é Mal]"},{"id":"preacher","name":"Missionário","edition":"","team":"townsfolk","firstNight":7,"firstNightReminder":"O Missinário escolhe um jogador. Se esse jogador for um Lacaio: Desperte o Lacaio. Informe-o que foi escolhido pelo Missionário. O Lacaio agora não tem mais uma habilidade.","otherNight":4,"otherNightReminder":"O Missinário escolhe um jogador. Se esse jogador for um Lacaio: Desperte o Lacaio. Informe-o que foi escolhido pelo Missionário. O Lacaio agora não tem mais uma habilidade.","reminders":["Sem habilidade"],"setup":false,"ability":"Toda Noite, escolha um jogador: Caso seja um Lacaio, ele saberá. Todos os Lacaios escolhidos perdem a habilidade."},{"id":"general","name":"General","edition":"","team":"townsfolk","firstNight":34,"firstNightReminder":"Informe ao General: bom, mau ou nenhum; para o alinhamento que você acredita estar ganhando.","otherNight":57,"otherNightReminder":"Informe ao General: bom, mau ou nenhum; para o alinhamento que você acredita estar ganhando.","reminders":[],"setup":false,"ability":"Cada noite, você descobre qual tendência o Storyteller acredita que está ganhando: Bem, Mal ou Nenhum."},{"id":"balloonist","name":"Balonista","edition":"","team":"townsfolk","firstNight":30,"firstNightReminder":"Escolha um tipo de personagem. Informe ao Balonista um jogador cujo personagem é desse tipo. Coloque o lembrete \'Visto\' do Balonista ao lado desse personagem.","otherNight":53,"otherNightReminder":"Escolha um tipo de personagem que você ainda não escolheu. Informe ao Balonista um jogador cujo personagem é desse tipo, se houver algum. Coloque o lembrete \'Visto\' do Balonista ao lado desse personagem.","reminders":["Visto Cidadão","Visto Forasteiro","Visto Lacaio","Visto Demônio","Visto Viaante"],"setup":true,"ability":"Toda noite, você descobre um jogador de cada tipo de personagem, até que não haja mais tipos para descobrir. [+1 Forasteiro]"},{"id":"cultleader","name":"Líder da Seita","edition":"","team":"townsfolk","firstNight":32,"firstNightReminder":"O Líder da Seita se torna o alinhamento de um vizinho vivo: Informe-o com \'Bem\' ou \'Mal\' para o alinhamento atual do líder da seita","otherNight":55,"otherNightReminder":"O Líder da Seita se torna o alinhamento de um vizinho vivo: Informe-o com \'Bem\' ou \'Mal\' para o alinhamento atual do líder da seita.","reminders":[],"setup":false,"ability":"A cada noite o seu alinhamento (bem/mal) será igual a um de seus vizinhos vivos. Se todos os jogadores do bem aderirem a seita, seu time vence."},{"id":"lycanthrope","name":"Licantropo","edition":"","team":"townsfolk","firstNight":0,"firstNightReminder":"","otherNight":16,"otherNightReminder":"O Licantropo escolhe um jogador vivo: se for bom, eles morre e ninguém mais pode morrer esta noite.","reminders":["Dead"],"setup":false,"ability":"Cada Noite*, escolha um jogador vivo: Se ele for do Bem, ele morre, mas só ele poderá morrer essa noite."},{"id":"amnesiac","name":"Esquecido","edition":"","team":"townsfolk","firstNight":6,"firstNightReminder":"Decida a habilidade do Esquecido. Se a habilidade do Esquecido faz com que ele acorde esta noite: Acorde o Esquecido e execute sua habilidade.","otherNight":3,"otherNightReminder":"Se a habilidade do Esquecido faz com que ele acorde esta noite: Acorde o Esquecido e execute sua habilidade.","reminders":["?"],"setup":false,"ability":"Você não sabe qual é a sua habilidade. Todo dia, visite o Storyteller para tentar adivinhar a sua habilidade: você descobre o quão perto está da resposta."},{"id":"fisherman","name":"Pescador","edition":"","team":"townsfolk","firstNight":0,"firstNightReminder":"","otherNight":0,"otherNightReminder":"","reminders":["Usado"],"setup":false,"ability":"Uma vez por jogo, durante o dia, visite o Storyteller para obter conselhos de como vencer."},{"id":"cannibal","name":"Canibal","edition":"","team":"townsfolk","firstNight":0,"firstNightReminder":"","otherNight":0,"otherNightReminder":"","reminders":["Habilidade adquirida","Enveneado"],"setup":false,"ability":"Você tem a habilidade do jogador executado mais recente. Se ele for do mal, você está envenenado até um jogador do Bem ser executado."},{"id":"acrobat","name":"Acrobata","edition":"","team":"outsider","firstNight":0,"firstNightReminder":"","otherNight":22,"otherNightReminder":"Se um dos vizinhos do Bem do Acrobata está bêbado ou envenenado, o Acrobata morre.","reminders":["Morto"],"setup":false,"ability":"Toda Noite*, se um dos seus vizinhos do Bem estiver Bêbado ou Envenenado, você morre."},{"id":"politician","name":"Político","edition":"","team":"outsider","firstNight":0,"firstNightReminder":"","otherNight":0,"otherNightReminder":"","reminders":[],"setup":false,"ability":"Se você for o maior responsável pela derrota do seu time, o seu alinhamento (bem/mal) muda e você vence, mesmo estando morto."},{"id":"widow","name":"Viúva","edition":"","team":"minion","firstNight":10,"firstNightReminder":"Mostre o Grimório para a viúva. A viúva escolhe um jogador. Esse jogador está envenenado. Acorde um bom jogador. Informe-o que a Viúva está em jogo. Caso a Viuvá se escolha, nenhum jogador deverá ser acordado.","otherNight":0,"otherNightReminder":"","reminders":["Envenenado","Knowing"],"setup":false,"ability":"Na primeira Noite, veja o Grimório e escolha um jogador: ele está envenenado. 1 jogador do Bem sabe que a Viúva está em jogo."},{"id":"goblin","name":"Goblin","edition":"","team":"minion","firstNight":0,"firstNightReminder":"","otherNight":0,"otherNightReminder":"","reminders":["Clamado Hoje"],"setup":false,"ability":"Quando nomeado, você pode publicamente afirmar ser o Goblin: Se for executado naquele dia, seu time vence."},{"id":"lilmonsta","name":"Bebê Monstro","edition":"","team":"demon","firstNight":8,"firstNightReminder":"Acorde todos os Lacaios. Os Lacaios escolhem um jogador que recebe o Bebê Monstro e se torna o Demônio.","otherNight":29,"otherNightReminder":"Acorde todos os Lacaios. Os Lacaios escolhem um jogador que recebe o Bebê Monstro e se torna o Demônio.","reminders":["Morto","Demônio"],"setup":true,"ability":"A cada noite os Lacaios escolhem quem ficará com o token do Bebê Monstro e será o Demônio. Um jogador morre a cada noite. [+1 Lacaio]"},{"id":"leviathan","name":"Leviathan","edition":"","team":"demon","firstNight":38,"firstNightReminder":"Coloque o marcador Leviathan “Dia 1”. Anuncie no próximo amanhecer “O Leviathan está em jogo; este é o primeiro dia ”.","otherNight":0,"otherNightReminder":"Coloque o próximo marcador de Leviathan \'Dia N\', onde \'N\' é o número do dia. Anuncie no próximo amanhcer “O Leviathan está em jogo; este é o dia n. ”.","reminders":["Executado e do Bem","Dia 1","Dia 2","Dia 3","Dia 4","Dia 5"],"setup":false,"ability":"Todos os jogadores sabem que você está em jogo. Depois de 5 dias, o Mal vence. Se mais de 1 jogador do Bem for executado, o Mal vence."}]')},b223:function(e,o,t){e.exports=t.p+"img/mayor.98dda8d8.png"},b249:function(e){e.exports=JSON.parse('[{"id":"doomsayer","firstNightReminder":"","otherNightReminder":"","reminders":[],"setup":false,"name":"Doomsayer","team":"fabled","ability":"Se 4 ou mais jogadores estiverem vivos, cada jogador vivo pode, uma vez por jogo, invocar o Doomsayer publicamente. Alguém do seu alinhamento (Bem/Mal) morre."},{"id":"angel","firstNightReminder":"","otherNightReminder":"","reminders":["Protect","Punish"],"setup":false,"name":"Anjo","team":"fabled","ability":"Algo ruim pode acontecer com o responsável pela morte de um novo jogador."},{"id":"buddhist","firstNightReminder":"","otherNightReminder":"","reminders":[],"setup":false,"name":"Budista","team":"fabled","ability":"Durante os primeiros 2 minutos de cada dia, os jogadores veteranos não podem falar."},{"id":"hellslibrarian","firstNightReminder":"","otherNightReminder":"","reminders":["Punish"],"setup":false,"name":"Bibliotecário do inferno","team":"fabled","ability":"Algo ruim pode acontecer a quem fala quando o Narrador pede silêncio."},{"id":"revolutionary","firstNightReminder":"","otherNightReminder":"","reminders":["Used"],"setup":false,"name":"Revolucionário","team":"fabled","ability":"2 jogadores vizinhos são conhecidos por terem o mesmo alinhamento. Uma vez por jogo, um deles é registrado falsamente."},{"id":"fiddler","firstNightReminder":"","otherNightReminder":"","reminders":[],"setup":false,"name":"Violinista","team":"fabled","ability":"Uma vez por jogo, o Demônio escolhe secretamente um jogador adversário: todos os jogadores escolhem qual desses 2 jogadores ganha."},{"id":"toymaker","firstNightReminder":"","otherNightReminder":"If it is a night when a Demon attack could end the game, and the Demon is marked “Final night: No Attack,” then the Demon does not act tonight. (Do not wake them.)","reminders":["Final Night: No Attack"],"setup":false,"name":"Fabricante de brinquedo","team":"fabled","ability":"O Demônio pode escolher não atacar e deve fazer isso pelo menos uma vez por jogo. Jogadores maus obtêm informações iniciais normais."},{"id":"fibbin","firstNightReminder":"","otherNightReminder":"","reminders":["Used"],"setup":false,"name":"Fibbin","team":"fabled","ability":"Uma vez por jogo, 1 jogador do Bem pode obter informações falsas."},{"id":"duchess","firstNightReminder":"","otherNightReminder":"Wake each player marked “Visitor” or “False Info” one at a time. Show them the Duchess token, then fingers (1, 2, 3) equaling the number of evil players marked “Visitor” or, if you are waking the player marked “False Info,” show them any number of fingers except the number of evil players marked “Visitor.”","reminders":["Visitor","False Info"],"setup":false,"name":"Duquesa","team":"fabled","ability":"Cada dia, 3 jogadores podem escolher visitá-la. À noite*, cada visitante descobre quantos visitantes são maus, mas 1 obtém informações falsas."},{"id":"sentinel","firstNightReminder":"","otherNightReminder":"","reminders":[],"setup":true,"name":"Sentinela","team":"fabled","ability":"Pode haver 1 Forasteiro a mais ou a menos em jogo. [+1 ou -1 Forasteiro]"},{"id":"spiritofivory","firstNightReminder":"","otherNightReminder":"","reminders":["Sem Jogador mal extra"],"setup":false,"name":"Espírito de marfim","team":"fabled","ability":"Não pode haver mais de 1 jogador maligno extra."},{"id":"djinn","firstNightReminder":"Wake each evil player and show them which jinxed characters are in play, so that they know not to bluff as characters that can not be in play.","otherNightReminder":"","reminders":[],"setup":false,"name":"Djinn","team":"fabled","ability":"Personagens com Jinxed não estão em jogo, mas os jogadores malvados sabem quais estão. Ou use a (Regra Especial) do Djinn."},{"id":"stormcatcher","firstNightReminder":"Mark a good player as \\"Safe\\". Wake each evil player and show them the marked player.","otherNightReminder":"","reminders":["Seguro"],"setup":false,"name":"Storm Catcher","team":"fabled","ability":"Denomine um bom personagem. Se estiver em jogo, ele só pode morrer por execução, mas os jogadores malvados aprendem quem é."},{"id":"deusexfiasco","firstNightReminder":"","otherNightReminder":"","reminders":["Ops"],"setup":false,"name":"Deus ex Fiasco","team":"fabled","ability":"Uma vez por jogo, o Narrador cometerá um \'erro\', corrigirá e admitirá publicamente."}]')},b30c:function(e,o,t){e.exports=t.p+"img/professor.8a5ccf04.png"},b570:function(e,o,t){e.exports=t.p+"img/investigator.13194f19.png"},ba9b:function(e,o,t){e.exports=t.p+"img/tealady.2d47353e.png"},bb7a:function(e,o,t){e.exports=t.p+"img/empath.d7a89ed7.png"},bbf2:function(e,o,t){},bfe2:function(e,o,t){e.exports=t.p+"img/angel.016b2c65.png"},c24f:function(e,o,t){e.exports=t.p+"img/evil.908a2622.png"},c316:function(e,o,t){e.exports=t.p+"img/lycanthrope.cb0cca61.png"},c492:function(e,o,t){e.exports=t.p+"img/lilmonsta.e4a265ca.png"},c5db:function(e,o,t){e.exports=t.p+"img/fisherman.9077de7e.png"},c73a:function(e,o,t){e.exports=t.p+"img/po.4c484011.png"},c9f5:function(e,o,t){e.exports=t.p+"img/grandmother.16001541.png"},cadc:function(e,o,t){e.exports=t.p+"img/gossip.dd8d7312.png"},cae1:function(e,o,t){e.exports=t.p+"img/bmr-demon.75dfa056.png"},cd8b:function(e,o,t){e.exports=t.p+"img/devilsadvocate.e455fea0.png"},ce23:function(e,o,t){var s={"./bmr-demon.png":"cae1","./bmr-minion.png":"28bf","./bmr-outsider.png":"e898","./bmr-townsfolk.png":"e988","./bmr.png":"7496","./custom.png":"441d","./luf.png":"92d8","./snv-demon.png":"f347","./snv-minion.png":"451a","./snv-outsider.png":"4dd9","./snv-townsfolk.png":"ed00","./snv.png":"2fd0","./tb-demon.png":"a3b0","./tb-minion.png":"5f4e","./tb-outsider.png":"73a1","./tb-townsfolk.png":"f7a3","./tb.png":"0aaa"};function i(e){var o=a(e);return t(o)}function a(e){if(!t.o(s,e)){var o=new Error("Cannot find module '"+e+"'");throw o.code="MODULE_NOT_FOUND",o}return s[e]}i.keys=function(){return Object.keys(s)},i.resolve=a,e.exports=i,i.id="ce23"},cfcc:function(e,o,t){e.exports=t.p+"img/beggar.b7a4fbda.png"},d4b2:function(e,o,t){},d62b:function(e,o,t){e.exports=t.p+"img/slayer.0859544b.png"},d715:function(e,o,t){e.exports=t.p+"img/savant.16bfbc30.png"},d97d:function(e,o,t){e.exports=t.p+"img/drunk.4883c5a1.png"},dce6:function(e,o,t){e.exports=t.p+"img/gambler.000b4b9b.png"},dfb1:function(e,o){e.exports=e=>{if(localStorage.getItem("background")&&e.commit("setBackground",localStorage.background),localStorage.getItem("muted")&&e.commit("setIsMuted",!0),localStorage.getItem("zoom")&&e.commit("setZoom",parseFloat(localStorage.getItem("zoom"))),void 0!==localStorage.isPublic&&e.commit("toggleGrimoire",JSON.parse(localStorage.isPublic)),void 0!==localStorage.roles&&(e.commit("setCustomRoles",JSON.parse(localStorage.roles)),e.commit("setEdition",{id:"custom"})),void 0!==localStorage.edition&&e.commit("setEdition",JSON.parse(localStorage.edition)),void 0!==localStorage.bluffs&&JSON.parse(localStorage.bluffs).forEach((o,t)=>{e.commit("players/setBluff",{index:t,role:e.state.roles.get(o)||{}})}),void 0!==localStorage.fabled&&e.commit("players/setFabled",{fabled:JSON.parse(localStorage.fabled).map(o=>e.state.fabled.get(o))}),localStorage.players&&e.commit("players/set",JSON.parse(localStorage.players).map(o=>({...o,role:e.state.roles.get(o.role)||e.getters.rolesJSONbyId.get(o.role)||{}}))),localStorage.getItem("playerId")&&e.commit("session/setPlayerId",localStorage.getItem("playerId")),localStorage.getItem("session")){const[o,t]=JSON.parse(localStorage.getItem("session"));e.commit("session/setSpectator",o),e.commit("session/setSessionId",t)}e.subscribe(({type:o,payload:t},s)=>{switch(o){case"toggleGrimoire":localStorage.setItem("isPublic",JSON.stringify(s.grimoire.isPublic));break;case"setBackground":t?localStorage.setItem("background",t):localStorage.removeItem("background");break;case"setIsMuted":t?localStorage.setItem("muted",1):localStorage.removeItem("muted");break;case"setZoom":0!==t?localStorage.setItem("zoom",t):localStorage.removeItem("zoom");break;case"setEdition":localStorage.setItem("edition",JSON.stringify(t)),s.edition.isOfficial&&localStorage.removeItem("roles");break;case"setCustomRoles":t.length?localStorage.setItem("roles",JSON.stringify(e.getters.customRoles)):localStorage.removeItem("roles");break;case"players/setBluff":localStorage.setItem("bluffs",JSON.stringify(s.players.bluffs.map(({id:e})=>e)));break;case"players/setFabled":localStorage.setItem("fabled",JSON.stringify(s.players.fabled.map(({id:e})=>e)));break;case"players/add":case"players/update":case"players/remove":case"players/clear":case"players/set":case"players/swap":case"players/move":s.players.players.length?localStorage.setItem("players",JSON.stringify(s.players.players.map(e=>({...e,role:e.role.id||{}})))):localStorage.removeItem("players");break;case"session/setSessionId":t?localStorage.setItem("session",JSON.stringify([s.session.isSpectator,t])):localStorage.removeItem("session");break;case"session/setPlayerId":t?localStorage.setItem("playerId",t):localStorage.removeItem("playerId");break}})}},e014:function(e,o,t){e.exports=t.p+"img/eviltwin.06a5a8b8.png"},e222:function(e,o,t){e.exports=t.p+"img/djinn.f10cec5c.png"},e898:function(e,o,t){e.exports=t.p+"img/bmr-outsider.971a3d5d.png"},e988:function(e,o,t){e.exports=t.p+"img/bmr-townsfolk.9bf859b4.png"},ec1e:function(e,o,t){e.exports=t.p+"img/spy.b739966f.png"},ed00:function(e,o,t){e.exports=t.p+"img/snv-townsfolk.83cf9a72.png"},ee02:function(e,o,t){e.exports=t.p+"img/courtier.345180fb.png"},ee92:function(e,o,t){e.exports=t.p+"img/gunslinger.9f84c9f2.png"},efa5:function(e,o,t){"use strict";t("150c")},eff4:function(e,o,t){e.exports=t.p+"img/virgin.eaf181e8.png"},f09b:function(e,o,t){e.exports=t.p+"img/judge.79ec3877.png"},f1e5:function(e,o,t){e.exports=t.p+"img/sweetheart.ec1cef03.png"},f282:function(e,o,t){e.exports=t.p+"img/poisoner.44c80b94.png"},f322:function(e,o,t){e.exports=t.p+"img/scarletwoman.d2cdaffd.png"},f347:function(e,o,t){e.exports=t.p+"img/snv-demon.2fe55248.png"},f4bd:function(e,o,t){e.exports=t.p+"img/vigormortis.7716a80d.png"},f558:function(e,o,t){e.exports=t.p+"img/witch.2f895245.png"},f6a8:function(e,o,t){e.exports=t.p+"media/countdown.1462f20c.mp3"},f7a3:function(e,o,t){e.exports=t.p+"img/tb-townsfolk.550a119b.png"},f834:function(e,o,t){e.exports=t.p+"img/mastermind.c3ba5fbb.png"},f93f:function(e,o,t){e.exports=t.p+"img/clockmaker.41906ffc.png"},fa85:function(e,o,t){},fcc6:function(e,o,t){e.exports=t.p+"img/barber.a354ad9e.png"},fd83:function(e,o,t){e.exports=t.p+"img/custom.8ff972bc.png"},fff1:function(e,o,t){e.exports=t.p+"img/pacifist.ad2d0310.png"}});
//# sourceMappingURL=app.089e9e94.js.map